"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd?define("scripts",e):e()}(function(){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,n=e(function(e){var t,n;t=o,n=function(){function v(e,t,n){if(n){var o=document.createDocumentFragment(),r=!t.hasAttribute("viewBox")&&n.getAttribute("viewBox");r&&t.setAttribute("viewBox",r);for(var l=n.cloneNode(!0);l.childNodes.length;)o.appendChild(l.firstChild);e.appendChild(o)}}function m(o){o.onreadystatechange=function(){if(4===o.readyState){var n=o._cachedDocument;n||((n=o._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=o.responseText,o._cachedTarget={}),o._embeds.splice(0).map(function(e){var t=o._cachedTarget[e.id];t=t||(o._cachedTarget[e.id]=n.getElementById(e.id)),v(e.parent,e.svg,t)})}},o.onreadystatechange()}function b(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}return function(e){var u,d=Object(e),t=window.top!==window.self;u="polyfill"in d?d.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&t;var f={},h=window.requestAnimationFrame||setTimeout,g=document.getElementsByTagName("use"),p=0;u&&function e(){for(var t=0;t<g.length;){var n=g[t],o=n.parentNode,r=b(o),l=n.getAttribute("xlink:href")||n.getAttribute("href");if(!l&&d.attributeName&&(l=n.getAttribute(d.attributeName)),r&&l){if(u)if(!d.validate||d.validate(l,r,n)){o.removeChild(n);var i=l.split("#"),a=i.shift(),c=i.join("#");if(a.length){var s=f[a];s||((s=f[a]=new XMLHttpRequest).open("GET",a),s.send(),s._embeds=[]),s._embeds.push({parent:o,svg:r,id:c}),m(s)}else v(o,r,document.getElementById(c))}else++t,++p}else++t}(!g.length||0<g.length-p)&&h(e,67)}()}},e.exports?e.exports=n():t.svg4everybody=n()}),r=e(function(e,t){var n;n=function(){return o={},r.m=n=[function(e,t,n){n.r(t);function o(e){return Array.isArray(e)?e:[e]}function c(e){return e instanceof Node}function r(e,t){if(e&&t){e=e instanceof NodeList?e:[e];for(var n=0;n<e.length&&!0!==t(e[n],n,e.length);n++);}}function l(e){return console.error("[scroll-lock] ".concat(e))}function v(e){if(Array.isArray(e))return e.join(", ")}function i(e){var t=[];return r(e,function(e){return t.push(e)}),t}function m(e,t,n,o){var r=3<arguments.length&&void 0!==o?o:document;if((!(2<arguments.length&&void 0!==n)||n)&&-1!==i(r.querySelectorAll(t)).indexOf(e))return e;for(;(e=e.parentElement)&&-1===i(r.querySelectorAll(t)).indexOf(e););return e}function b(e,t,n){var o=2<arguments.length&&void 0!==n?n:document;return-1!==i(o.querySelectorAll(t)).indexOf(e)}function a(e){return e&&"hidden"===getComputedStyle(e).overflow}function y(e){return e&&(!!a(e)||e.scrollTop<=0)}function S(e){if(e){if(a(e))return 1;var t=e.scrollTop;return e.scrollHeight<=t+e.offsetHeight}}function k(e){return e&&(!!a(e)||e.scrollLeft<=0)}function w(e){if(e){if(a(e))return 1;var t=e.scrollLeft;return e.scrollWidth<=t+e.offsetWidth}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"disablePageScroll",function(){return d}),n.d(t,"enablePageScroll",function(){return f}),n.d(t,"getScrollState",function(){return h}),n.d(t,"clearQueueScrollLocks",function(){return g}),n.d(t,"getTargetScrollBarWidth",function(){return p}),n.d(t,"getCurrentTargetScrollBarWidth",function(){return C}),n.d(t,"getPageScrollBarWidth",function(){return L}),n.d(t,"getCurrentPageScrollBarWidth",function(){return T}),n.d(t,"addScrollableTarget",function(){return E}),n.d(t,"removeScrollableTarget",function(){return O}),n.d(t,"addScrollableSelector",function(){return I}),n.d(t,"removeScrollableSelector",function(){return M}),n.d(t,"addLockableTarget",function(){return x}),n.d(t,"addLockableSelector",function(){return G}),n.d(t,"setFillGapMethod",function(){return B}),n.d(t,"addFillGapTarget",function(){return q}),n.d(t,"removeFillGapTarget",function(){return F}),n.d(t,"addFillGapSelector",function(){return W}),n.d(t,"removeFillGapSelector",function(){return j}),n.d(t,"refillGaps",function(){return P});var u=["padding","margin","width","max-width","none"],A={scroll:!0,queue:0,scrollableSelectors:["[data-scroll-lock-scrollable]"],lockableSelectors:["body","[data-scroll-lock-lockable]"],fillGapSelectors:["body","[data-scroll-lock-fill-gap]","[data-scroll-lock-lockable]"],fillGapMethod:u[0],startTouchY:0,startTouchX:0},d=function(e){A.queue<=0&&(A.scroll=!1,N(),K()),E(e),A.queue++},f=function(e){0<A.queue&&A.queue--,A.queue<=0&&(A.scroll=!0,Y(),R()),O(e)},h=function(){return A.scroll},g=function(){A.queue=0},p=function(e,t){var n=1<arguments.length&&void 0!==t&&t;if(c(e)){var o=e.style.overflowY;n?h()||(e.style.overflowY=e.getAttribute("data-scroll-lock-saved-overflow-y-property")):e.style.overflowY="scroll";var r=C(e);return e.style.overflowY=o,r}return 0},C=function(e){if(c(e)){if(e===document.body){var t=document.documentElement.clientWidth;return window.innerWidth-t}var n=e.style.borderLeftWidth,o=e.style.borderRightWidth;e.style.borderLeftWidth="0px",e.style.borderRightWidth="0px";var r=e.offsetWidth-e.clientWidth;return e.style.borderLeftWidth=n,e.style.borderRightWidth=o,r}return 0},L=function(e){var t=0<arguments.length&&void 0!==e&&e;return p(document.body,t)},T=function(){return C(document.body)},E=function(e){e&&o(e).map(function(e){r(e,function(e){c(e)?e.setAttribute("data-scroll-lock-scrollable",""):l('"'.concat(e,'" is not a Element.'))})})},O=function(e){e&&o(e).map(function(e){r(e,function(e){c(e)?e.removeAttribute("data-scroll-lock-scrollable"):l('"'.concat(e,'" is not a Element.'))})})},I=function(e){e&&o(e).map(function(e){A.scrollableSelectors.push(e)})},M=function(e){e&&o(e).map(function(t){A.scrollableSelectors=A.scrollableSelectors.filter(function(e){return e!==t})})},x=function(e){e&&(o(e).map(function(e){r(e,function(e){c(e)?e.setAttribute("data-scroll-lock-lockable",""):l('"'.concat(e,'" is not a Element.'))})}),h()||N())},G=function(e){e&&(o(e).map(function(e){A.lockableSelectors.push(e)}),h()||N(),W(e))},B=function(e){if(e)if(-1!==u.indexOf(e))A.fillGapMethod=e,P();else{var t=u.join(", ");l('"'.concat(e,'" method is not available!\nAvailable fill gap methods: ').concat(t,"."))}},q=function(e){e&&o(e).map(function(e){r(e,function(e){c(e)?(e.setAttribute("data-scroll-lock-fill-gap",""),A.scroll||Q(e)):l('"'.concat(e,'" is not a Element.'))})})},F=function(e){e&&o(e).map(function(e){r(e,function(e){c(e)?(e.removeAttribute("data-scroll-lock-fill-gap"),A.scroll||V(e)):l('"'.concat(e,'" is not a Element.'))})})},W=function(e){e&&o(e).map(function(e){-1===A.fillGapSelectors.indexOf(e)&&(A.fillGapSelectors.push(e),A.scroll||X(e))})},j=function(e){e&&o(e).map(function(t){A.fillGapSelectors=A.fillGapSelectors.filter(function(e){return e!==t}),A.scroll||z(t)})},P=function(){A.scroll||K()},N=function(){var e=v(A.lockableSelectors);_(e)},Y=function(){var e=v(A.lockableSelectors);H(e)},_=function(e){var t=document.querySelectorAll(e);r(t,function(e){U(e)})},H=function(e){var t=document.querySelectorAll(e);r(t,function(e){D(e)})},U=function(e){if(c(e)&&"true"!==e.getAttribute("data-scroll-lock-locked")){var t=window.getComputedStyle(e);e.setAttribute("data-scroll-lock-saved-overflow-y-property",t.overflowY),e.setAttribute("data-scroll-lock-saved-inline-overflow-property",e.style.overflow),e.setAttribute("data-scroll-lock-saved-inline-overflow-y-property",e.style.overflowY),e.style.overflow="hidden",e.setAttribute("data-scroll-lock-locked","true")}},D=function(e){c(e)&&"true"===e.getAttribute("data-scroll-lock-locked")&&(e.style.overflow=e.getAttribute("data-scroll-lock-saved-inline-overflow-property"),e.style.overflowY=e.getAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-saved-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-property"),e.removeAttribute("data-scroll-lock-saved-inline-overflow-y-property"),e.removeAttribute("data-scroll-lock-locked"))},K=function(){A.fillGapSelectors.map(function(e){X(e)})},R=function(){A.fillGapSelectors.map(function(e){z(e)})},X=function(e){var t=document.querySelectorAll(e),n=-1!==A.lockableSelectors.indexOf(e);r(t,function(e){Q(e,n)})},Q=function(e,t){var n=1<arguments.length&&void 0!==t&&t;if(c(e)){var o;if(""===e.getAttribute("data-scroll-lock-lockable")||n)o=p(e,!0);else{var r=m(e,v(A.lockableSelectors));o=p(r,!0)}"true"===e.getAttribute("data-scroll-lock-filled-gap")&&V(e);var l=window.getComputedStyle(e);if(e.setAttribute("data-scroll-lock-filled-gap","true"),e.setAttribute("data-scroll-lock-current-fill-gap-method",A.fillGapMethod),"margin"===A.fillGapMethod){var i=parseFloat(l.marginRight);e.style.marginRight="".concat(i+o,"px")}else if("width"===A.fillGapMethod)e.style.width="calc(100% - ".concat(o,"px)");else if("max-width"===A.fillGapMethod)e.style.maxWidth="calc(100% - ".concat(o,"px)");else if("padding"===A.fillGapMethod){var a=parseFloat(l.paddingRight);e.style.paddingRight="".concat(a+o,"px")}}},z=function(e){var t=document.querySelectorAll(e);r(t,function(e){V(e)})},V=function(e){if(c(e)&&"true"===e.getAttribute("data-scroll-lock-filled-gap")){var t=e.getAttribute("data-scroll-lock-current-fill-gap-method");e.removeAttribute("data-scroll-lock-filled-gap"),e.removeAttribute("data-scroll-lock-current-fill-gap-method"),"margin"===t?e.style.marginRight="":"width"===t?e.style.width="":"max-width"===t?e.style.maxWidth="":"padding"===t&&(e.style.paddingRight="")}};"undefined"!=typeof window&&window.addEventListener("resize",function(){P()}),"undefined"!=typeof document&&(document.addEventListener("touchstart",function(e){A.scroll||(A.startTouchY=e.touches[0].clientY,A.startTouchX=e.touches[0].clientX)}),document.addEventListener("touchmove",function(i){if(!A.scroll){var e=A.startTouchY,t=A.startTouchX,n=i.touches[0].clientY,o=i.touches[0].clientX;if(i.touches.length<2){var a=v(A.scrollableSelectors),c=e<n,s=n<e,u=t<o,d=o<t,f=e+3<n,h=n<e-3,g=t+3<o,p=o<t-3;!function e(t,n){var o=1<arguments.length&&void 0!==n&&n;if(t){var r=m(t,a,!1);if(b(t,'input[type="range"]'))return!1;if(o||b(t,'textarea, [contenteditable="true"]')&&m(t,a)||b(t,a)){var l=!1;k(t)&&w(t)?(c&&y(t)||s&&S(t))&&(l=!0):y(t)&&S(t)?(u&&k(t)||d&&w(t))&&(l=!0):(f&&y(t)||h&&S(t)||g&&k(t)||p&&w(t))&&(l=!0),l&&(r?e(r,!0):i.preventDefault())}else e(r)}else i.preventDefault()}(i.target)}}},{passive:!1}),document.addEventListener("touchend",function(){A.scroll||(A.startTouchY=0,A.startTouchX=0)}));var $={hide:function(e){l('"hide" is deprecated! Use "disablePageScroll" instead. \n https://github.com/FL3NKEY/scroll-lock#disablepagescrollscrollabletarget'),d(e)},show:function(e){l('"show" is deprecated! Use "enablePageScroll" instead. \n https://github.com/FL3NKEY/scroll-lock#enablepagescrollscrollabletarget'),f(e)},toggle:function(e){l('"toggle" is deprecated! Do not use it.'),h()?d():f(e)},getState:function(){return l('"getState" is deprecated! Use "getScrollState" instead. \n https://github.com/FL3NKEY/scroll-lock#getscrollstate'),h()},getWidth:function(){return l('"getWidth" is deprecated! Use "getPageScrollBarWidth" instead. \n https://github.com/FL3NKEY/scroll-lock#getpagescrollbarwidth'),L()},getCurrentWidth:function(){return l('"getCurrentWidth" is deprecated! Use "getCurrentPageScrollBarWidth" instead. \n https://github.com/FL3NKEY/scroll-lock#getcurrentpagescrollbarwidth'),T()},setScrollableTargets:function(e){l('"setScrollableTargets" is deprecated! Use "addScrollableTarget" instead. \n https://github.com/FL3NKEY/scroll-lock#addscrollabletargetscrollabletarget'),E(e)},setFillGapSelectors:function(e){l('"setFillGapSelectors" is deprecated! Use "addFillGapSelector" instead. \n https://github.com/FL3NKEY/scroll-lock#addfillgapselectorfillgapselector'),W(e)},setFillGapTargets:function(e){l('"setFillGapTargets" is deprecated! Use "addFillGapTarget" instead. \n https://github.com/FL3NKEY/scroll-lock#addfillgaptargetfillgaptarget'),q(e)},clearQueue:function(){l('"clearQueue" is deprecated! Use "clearQueueScrollLocks" instead. \n https://github.com/FL3NKEY/scroll-lock#clearqueuescrolllocks'),g()}},J=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){s(t,e,n[e])})}return t}({disablePageScroll:d,enablePageScroll:f,getScrollState:h,clearQueueScrollLocks:g,getTargetScrollBarWidth:p,getCurrentTargetScrollBarWidth:C,getPageScrollBarWidth:L,getCurrentPageScrollBarWidth:T,addScrollableSelector:I,removeScrollableSelector:M,addScrollableTarget:E,removeScrollableTarget:O,addLockableSelector:G,addLockableTarget:x,addFillGapSelector:W,removeFillGapSelector:j,addFillGapTarget:q,removeFillGapTarget:F,setFillGapMethod:B,refillGaps:P,_state:A},$);t.default=J}],r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===_typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0).default;function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,o},e.exports=n()}),l=(t=r)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,l=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return l=e.done,e},e:function(e){i=!0,r=e},f:function(){try{l||null==o.return||o.return()}finally{if(i)throw r}}}}var d=function(){function t(e){i(this,t),this.config={scrollClass:"isScroll",activeClass:"isActive",openClass:"isOpen"},this.modelSelectors={navItem:"data-nav-item",navBlock:"data-navigation",burgerMenuClass:".js-menu",navigationContainerClass:".js-nav",closeBtnClass:".js-btn"},this.activeAnchorId="",this.headerContainer="",this.links=[],this.blocks=[],this.anchors=[],this.initHeader(e)}return c(t,[{key:"initHeader",value:function(e){var r=this;if(e){this.headerContainer=document.querySelector(e),this.links=document.querySelectorAll("[".concat(this.modelSelectors.navItem,"]")),this.burgerMenu=document.querySelector(this.modelSelectors.burgerMenuClass),this.navigation=document.querySelector(this.modelSelectors.navigationContainerClass),this.closeBtns=document.querySelectorAll(this.modelSelectors.closeBtnClass),this.links.length&&this.links.forEach(function(e){if(location.pathname.replace("/^/ /","")==e.pathname.replace("/^/ /","")&&location.hostname==e.hostname&&e.hash){var t=e.hash,n=document.querySelector(t),o=document.querySelectorAll("[".concat(r.modelSelectors.navBlock," = ").concat(t.replace("#",""),"]:not(").concat(t,")"));(n||o)&&(r.anchors.push(e),r.blocks.push(n),o.forEach(function(e){r.blocks.push(e)}))}});var t=new IntersectionObserver(function(e){e.forEach(function(e){var t;e.isIntersecting&&(console.log(e.target),t=e.target.getAttribute(r.modelSelectors.navBlock)?"#".concat(e.target.getAttribute(r.modelSelectors.navBlock)):"#".concat(e.target.id),r.addActiveItem(t))})},{threshold:.1});this.blocks.forEach(function(e){t.observe(e)}),this.headerContainer&&(window.addEventListener("scroll",function(){r.addStyleScroll()}),this.addSmoothScroll()),this.closeBtns.length&&this.burgerMenu&&(this.burgerMenu.addEventListener("click",function(){app.scroll.disable(),r.openModileMenu(),r.addOpenClassOnCloseBtn(),r.TabOnShowMobileMenu()}),this.closeBtns.forEach(function(e){e.addEventListener("click",function(){app.scroll.enable(),r.closeMobileMenu(),r.removeOpenClassOnCloseBtn()})}))}}},{key:"addActiveItem",value:function(e){this.activeAnchorId=e;var t,n=u(this.anchors);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.hash==this.activeAnchorId?o.classList.add(this.config.activeClass):o.classList.remove(this.config.activeClass)}}catch(e){n.e(e)}finally{n.f()}}},{key:"addSmoothScroll",value:function(){var e,t=u(this.anchors);try{var n=function(){var t=e.value;t.addEventListener("click",function(e){e.preventDefault(),document.querySelector(t.getAttribute("href")).scrollIntoView({behavior:"smooth"}),history.pushState(null,null,t.getAttribute("href"))})};for(t.s();!(e=t.n()).done;)n()}catch(e){t.e(e)}finally{t.f()}}},{key:"addStyleScroll",value:function(){this.headerHeight=this.headerContainer.offsetHeight;var e=window.scrollY;e>this.headerHeight?this.headerContainer.classList.add(this.config.scrollClass):e<this.headerHeight&&this.headerContainer.classList.remove(this.config.scrollClass)}},{key:"openModileMenu",value:function(){this.navigation.classList.add(this.config.openClass)}},{key:"closeMobileMenu",value:function(){this.navigation.classList.remove(this.config.openClass)}},{key:"addOpenClassOnCloseBtn",value:function(){var t=this;this.closeBtns.forEach(function(e){e.classList.add(t.config.openClass)})}},{key:"removeOpenClassOnCloseBtn",value:function(){var t=this;this.closeBtns.forEach(function(e){e.classList.remove(t.config.openClass)})}},{key:"TabOnShowMobileMenu",value:function(){this.navigation.setAttribute("tabindex","0"),this.navigation.focus()}}]),t}(),f=function(){function t(e){i(this,t),this.config={activeClass:"isActive"},this.modelSelectors={classTagItem:"data-tag",classTabItem:"data-target"},this.defaultOpenItemNumber=0,this.initHeader(e)}return c(t,[{key:"initHeader",value:function(e){var n=this;e&&(this.tagContainer=document.querySelector(e),this.tagContainer&&(this.tagItems=this.tagContainer.querySelectorAll("[".concat(this.modelSelectors.classTagItem,"]")),this.contentItems=document.querySelectorAll("[".concat(this.modelSelectors.classTabItem,"]")),this.defaultOpenItem(this.defaultOpenItemNumber),this.tagItems.forEach(function(t){t.addEventListener("click",function(e){n.removeActiveClass(),n.contentItems.forEach(function(e){t.getAttribute(n.modelSelectors.classTagItem)==e.id&&(n.addActiveClass(e),n.addActiveClass(t))})})})))}},{key:"defaultOpenItem",value:function(e){this.contentItems[e].classList.add(this.config.activeClass),this.tagItems[e].classList.add(this.config.activeClass),this.getId(this.contentItems[e])}},{key:"defaultCloseItem",value:function(e){this.contentItems[e].classList.remove(this.config.activeClass),this.tagItems[e].classList.remove(this.config.activeClass)}},{key:"addActiveClass",value:function(e){e.classList.add(this.config.activeClass)}},{key:"removeActiveClass",value:function(){var t=this;this.tagItems.forEach(function(e){e.classList.remove(t.config.activeClass)}),this.contentItems.forEach(function(e){e.classList.remove(t.config.activeClass)})}},{key:"getId",value:function(e){this.contentCurrentId=e.id.toLowerCase()}}]),t}(),h=function(){function t(e){i(this,t),this.config={openClass:"isOpen"},this.modelSelectors={},this.AccordeonInit(e)}return c(t,[{key:"AccordeonInit",value:function(e){var t=this;this.accordeon=document.querySelector(e),this.accordeon.addEventListener("click",function(e){t.target=e.target,"BUTTON"==t.target.tagName&&(t.target.classList.toggle(t.config.openClass),t.target.nextElementSibling.classList.toggle(t.config.openClass))})}}]),t}();window.app={header:null,scroll:{disable:l.disablePageScroll,enable:l.enablePageScroll},initModule:function(t,e){e?Array.prototype.slice.call(document.querySelectorAll(e)).forEach(function(e){new t(e)}):new t},init:function(){}},window.addEventListener("DOMContentLoaded",function(){app.header=new d(".js-header");new f(".js-tags"),new h(".js-accordeon")}),n()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwid2luZG93IiwiZ2xvYmFsIiwic2VsZiIsImNyZWF0ZUNvbW1vbmpzTW9kdWxlIiwiZm4iLCJtb2R1bGUiLCJleHBvcnRzIiwieCIsInN2ZzRldmVyeWJvZHkiLCJyb290IiwiZW1iZWQiLCJwYXJlbnQiLCJzdmciLCJ0YXJnZXQiLCJmcmFnbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsInZpZXdCb3giLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjbG9uZSIsImNsb25lTm9kZSIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJsb2FkcmVhZHlzdGF0ZWNoYW5nZSIsInhociIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJjYWNoZWREb2N1bWVudCIsIl9jYWNoZWREb2N1bWVudCIsImltcGxlbWVudGF0aW9uIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiYm9keSIsImlubmVySFRNTCIsInJlc3BvbnNlVGV4dCIsIl9jYWNoZWRUYXJnZXQiLCJfZW1iZWRzIiwic3BsaWNlIiwibWFwIiwiaXRlbSIsImlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTVkdBbmNlc3RvciIsIm5vZGUiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwicGFyZW50Tm9kZSIsInJhd29wdHMiLCJwb2x5ZmlsbCIsIm9wdHMiLCJPYmplY3QiLCJpbklmcmFtZSIsInRvcCIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsInJlcXVlc3RzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsInVzZXMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm51bWJlck9mU3ZnVXNlRWxlbWVudHNUb0J5cGFzcyIsIm9uaW50ZXJ2YWwiLCJpbmRleCIsInVzZSIsInNyYyIsImF0dHJpYnV0ZU5hbWUiLCJ2YWxpZGF0ZSIsInJlbW92ZUNoaWxkIiwic3JjU3BsaXQiLCJzcGxpdCIsInVybCIsInNoaWZ0Iiwiam9pbiIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJwdXNoIiwic2Nyb2xsTG9jayIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibSIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiciIsImFyZ3VtZW50QXNBcnJheSIsImFyZ3VtZW50IiwiQXJyYXkiLCJpc0FycmF5IiwiaXNFbGVtZW50IiwiTm9kZSIsImVhY2hOb2RlIiwibm9kZUxpc3QiLCJjYWxsYmFjayIsIk5vZGVMaXN0IiwiaSIsInRocm93RXJyb3IiLCJtZXNzYWdlIiwiY29uc29sZSIsImVycm9yIiwiY29uY2F0IiwiYXJyYXlBc1NlbGVjdG9yIiwiYXJyYXkiLCJub2RlTGlzdEFzQXJyYXkiLCJub2RlcyIsImZpbmRQYXJlbnRCeVNlbGVjdG9yIiwiJGVsIiwic2VsZWN0b3IiLCIkcm9vdCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbmRleE9mIiwicGFyZW50RWxlbWVudCIsImVsZW1lbnRIYXNTZWxlY3RvciIsImVsZW1lbnRIYXNPdmVyZmxvd0hpZGRlbiIsImdldENvbXB1dGVkU3R5bGUiLCJvdmVyZmxvdyIsImVsZW1lbnRTY3JvbGxUb3BPblN0YXJ0Iiwic2Nyb2xsVG9wIiwiZWxlbWVudFNjcm9sbFRvcE9uRW5kIiwic2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiZWxlbWVudFNjcm9sbExlZnRPblN0YXJ0Iiwic2Nyb2xsTGVmdCIsImVsZW1lbnRTY3JvbGxMZWZ0T25FbmQiLCJzY3JvbGxXaWR0aCIsIm9mZnNldFdpZHRoIiwiX2RlZmluZVByb3BlcnR5Iiwia2V5IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImQiLCJkaXNhYmxlUGFnZVNjcm9sbCIsImVuYWJsZVBhZ2VTY3JvbGwiLCJnZXRTY3JvbGxTdGF0ZSIsImNsZWFyUXVldWVTY3JvbGxMb2NrcyIsInNjcm9sbF9sb2NrX2dldFRhcmdldFNjcm9sbEJhcldpZHRoIiwic2Nyb2xsX2xvY2tfZ2V0Q3VycmVudFRhcmdldFNjcm9sbEJhcldpZHRoIiwiZ2V0UGFnZVNjcm9sbEJhcldpZHRoIiwiZ2V0Q3VycmVudFBhZ2VTY3JvbGxCYXJXaWR0aCIsInNjcm9sbF9sb2NrX2FkZFNjcm9sbGFibGVUYXJnZXQiLCJzY3JvbGxfbG9ja19yZW1vdmVTY3JvbGxhYmxlVGFyZ2V0Iiwic2Nyb2xsX2xvY2tfYWRkU2Nyb2xsYWJsZVNlbGVjdG9yIiwic2Nyb2xsX2xvY2tfcmVtb3ZlU2Nyb2xsYWJsZVNlbGVjdG9yIiwic2Nyb2xsX2xvY2tfYWRkTG9ja2FibGVUYXJnZXQiLCJzY3JvbGxfbG9ja19hZGRMb2NrYWJsZVNlbGVjdG9yIiwic2Nyb2xsX2xvY2tfc2V0RmlsbEdhcE1ldGhvZCIsInNjcm9sbF9sb2NrX2FkZEZpbGxHYXBUYXJnZXQiLCJzY3JvbGxfbG9ja19yZW1vdmVGaWxsR2FwVGFyZ2V0Iiwic2Nyb2xsX2xvY2tfYWRkRmlsbEdhcFNlbGVjdG9yIiwic2Nyb2xsX2xvY2tfcmVtb3ZlRmlsbEdhcFNlbGVjdG9yIiwicmVmaWxsR2FwcyIsIkZJTExfR0FQX0FWQUlMQUJMRV9NRVRIT0RTIiwic3RhdGUiLCJzY3JvbGwiLCJxdWV1ZSIsInNjcm9sbGFibGVTZWxlY3RvcnMiLCJsb2NrYWJsZVNlbGVjdG9ycyIsImZpbGxHYXBTZWxlY3RvcnMiLCJmaWxsR2FwTWV0aG9kIiwic3RhcnRUb3VjaFkiLCJzdGFydFRvdWNoWCIsInNjcm9sbF9sb2NrX2hpZGVMb2NrYWJsZU92ZXJmbG93IiwiZmlsbEdhcHMiLCJzY3JvbGxfbG9ja19zaG93TG9ja2FibGVPdmVyZmxvdyIsInVuZmlsbEdhcHMiLCIkdGFyZ2V0Iiwib25seUV4aXN0cyIsImN1cnJlbnRPdmVyZmxvd1lQcm9wZXJ0eSIsInN0eWxlIiwib3ZlcmZsb3dZIiwid2lkdGgiLCJkb2N1bWVudFdpZHRoIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJpbm5lcldpZHRoIiwiYm9yZGVyTGVmdFdpZHRoQ3VycmVudFByb3BlcnR5IiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aEN1cnJlbnRQcm9wZXJ0eSIsImJvcmRlclJpZ2h0V2lkdGgiLCJfY3VycmVudFdpZHRoIiwiJHRhcmdldHMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaWx0ZXIiLCJzU2VsZWN0b3IiLCJtZXRob2QiLCJtZXRob2RzIiwic2Nyb2xsX2xvY2tfZmlsbEdhcFRhcmdldCIsInNjcm9sbF9sb2NrX3VuZmlsbEdhcFRhcmdldCIsInNjcm9sbF9sb2NrX2ZpbGxHYXBTZWxlY3RvciIsImZTZWxlY3RvciIsInNjcm9sbF9sb2NrX3VuZmlsbEdhcFNlbGVjdG9yIiwic2Nyb2xsX2xvY2tfaGlkZUxvY2thYmxlT3ZlcmZsb3dTZWxlY3RvciIsInNjcm9sbF9sb2NrX3Nob3dMb2NrYWJsZU92ZXJmbG93U2VsZWN0b3IiLCJzY3JvbGxfbG9ja19oaWRlTG9ja2FibGVPdmVyZmxvd1RhcmdldCIsInNjcm9sbF9sb2NrX3Nob3dMb2NrYWJsZU92ZXJmbG93VGFyZ2V0IiwiY29tcHV0ZWRTdHlsZSIsImlzTG9ja2FibGUiLCJzY3JvbGxCYXJXaWR0aCIsIiRsb2NrYWJsZVBhcmVudCIsImN1cnJlbnRNYXJnaW4iLCJwYXJzZUZsb2F0IiwibWFyZ2luUmlnaHQiLCJtYXhXaWR0aCIsImN1cnJlbnRQYWRkaW5nIiwicGFkZGluZ1JpZ2h0IiwiY3VycmVudEZpbGxHYXBNZXRob2QiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRvdWNoZXMiLCJjbGllbnRZIiwiY2xpZW50WCIsImN1cnJlbnRDbGllbnRZIiwiY3VycmVudENsaWVudFgiLCJkaXJlY3Rpb24iLCJkaXJlY3Rpb25XaXRoT2Zmc2V0IiwiaGFuZGxlIiwic2tpcCIsInBhcmVudFNjcm9sbGFibGVFbCIsInByZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhc3NpdmUiLCJkZXByZWNhdGVkTWV0aG9kcyIsImhpZGUiLCJzaG93IiwidG9nZ2xlIiwiZ2V0U3RhdGUiLCJnZXRXaWR0aCIsImdldEN1cnJlbnRXaWR0aCIsInNldFNjcm9sbGFibGVUYXJnZXRzIiwic2V0RmlsbEdhcFNlbGVjdG9ycyIsInNldEZpbGxHYXBUYXJnZXRzIiwiY2xlYXJRdWV1ZSIsInNvdXJjZSIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZm9yRWFjaCIsIl9vYmplY3RTcHJlYWQiLCJnZXRUYXJnZXRTY3JvbGxCYXJXaWR0aCIsImdldEN1cnJlbnRUYXJnZXRTY3JvbGxCYXJXaWR0aCIsImFkZFNjcm9sbGFibGVTZWxlY3RvciIsInJlbW92ZVNjcm9sbGFibGVTZWxlY3RvciIsImFkZFNjcm9sbGFibGVUYXJnZXQiLCJyZW1vdmVTY3JvbGxhYmxlVGFyZ2V0IiwiYWRkTG9ja2FibGVTZWxlY3RvciIsImFkZExvY2thYmxlVGFyZ2V0IiwiYWRkRmlsbEdhcFNlbGVjdG9yIiwicmVtb3ZlRmlsbEdhcFNlbGVjdG9yIiwiYWRkRmlsbEdhcFRhcmdldCIsInJlbW92ZUZpbGxHYXBUYXJnZXQiLCJzZXRGaWxsR2FwTWV0aG9kIiwiX3N0YXRlIiwiYyIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZ2V0IiwidG9TdHJpbmdUYWciLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwicyIsIm1vZHVsZUlkIiwibCIsInNjcm9sbExvY2skMSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwibWluTGVuIiwidG9TdHJpbmciLCJzbGljZSIsImZyb20iLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJGIiwiZG9uZSIsIl9lIiwiZiIsIml0IiwiZXJyIiwibm9ybWFsQ29tcGxldGlvbiIsImRpZEVyciIsInN0ZXAiLCJuZXh0IiwiX2UyIiwiSGVhZGVyIiwiaGVhZGVyTmFtZSIsInRoaXMiLCJjb25maWciLCJzY3JvbGxDbGFzcyIsImFjdGl2ZUNsYXNzIiwib3BlbkNsYXNzIiwibW9kZWxTZWxlY3RvcnMiLCJuYXZJdGVtIiwibmF2QmxvY2siLCJidXJnZXJNZW51Q2xhc3MiLCJuYXZpZ2F0aW9uQ29udGFpbmVyQ2xhc3MiLCJjbG9zZUJ0bkNsYXNzIiwiYWN0aXZlQW5jaG9ySWQiLCJoZWFkZXJDb250YWluZXIiLCJsaW5rcyIsImJsb2NrcyIsImFuY2hvcnMiLCJpbml0SGVhZGVyIiwiX3RoaXMiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyTWVudSIsIm5hdmlnYXRpb24iLCJjbG9zZUJ0bnMiLCJhbmNob3JMaW5rIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInJlcGxhY2UiLCJob3N0bmFtZSIsImhhc2giLCJibG9ja0lkIiwiYmxvY2tXaXRoSWQiLCJibG9ja3NXaXRoQXR0ciIsImJsb2NrIiwib2JzZXJ2ZWQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJlbnRyeSIsIm5ld0FjdGl2ZSIsImlzSW50ZXJzZWN0aW5nIiwibG9nIiwiYWRkQWN0aXZlSXRlbSIsInRocmVzaG9sZCIsImVsIiwib2JzZXJ2ZSIsImFkZFN0eWxlU2Nyb2xsIiwiYWRkU21vb3RoU2Nyb2xsIiwiYXBwIiwiZGlzYWJsZSIsIm9wZW5Nb2RpbGVNZW51IiwiYWRkT3BlbkNsYXNzT25DbG9zZUJ0biIsIlRhYk9uU2hvd01vYmlsZU1lbnUiLCJidG4iLCJlbmFibGUiLCJjbG9zZU1vYmlsZU1lbnUiLCJyZW1vdmVPcGVuQ2xhc3NPbkNsb3NlQnRuIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiX2xvb3AiLCJhbmNob3IiLCJldnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImhlYWRlckhlaWdodCIsImNvb3JkWSIsInNjcm9sbFkiLCJfdGhpczIiLCJfdGhpczMiLCJmb2N1cyIsIlRhYiIsIlRhYk5hbWUiLCJjbGFzc1RhZ0l0ZW0iLCJjbGFzc1RhYkl0ZW0iLCJkZWZhdWx0T3Blbkl0ZW1OdW1iZXIiLCJ0YWdDb250YWluZXIiLCJ0YWdJdGVtcyIsImNvbnRlbnRJdGVtcyIsImRlZmF1bHRPcGVuSXRlbSIsInRhZ0l0ZW0iLCJyZW1vdmVBY3RpdmVDbGFzcyIsImFkZEFjdGl2ZUNsYXNzIiwibnVtYmVyIiwiZ2V0SWQiLCJjb250ZW50Q3VycmVudElkIiwiQWNjb3JkZW9uIiwiQWNjb3JkZW9uTmFtZSIsIkFjY29yZGVvbkluaXQiLCJhY2NvcmRlb24iLCJldmVudCIsInRhZ05hbWUiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJoZWFkZXIiLCJpbml0TW9kdWxlIiwiTW9kdWxlIiwiaW5pdCJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxTQUFTQSxRQUFRQyxHQUFtVixPQUF0T0QsUUFBckQsbUJBQVhFLFFBQW9ELGlCQUFwQkEsT0FBT0MsU0FBbUMsU0FBaUJGLEdBQU8sY0FBY0EsR0FBMkIsU0FBaUJBLEdBQU8sT0FBT0EsR0FBeUIsbUJBQVhDLFFBQXlCRCxF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a0JBTS9EcUYsRUE3Qm9CLEdBZ0M3QnZaLE9BQU8yVyxJQUFNLENBQ1htRCxPQUFRLEtBQ1I1UCxPQUFRLENBQ04wTSxRQUFTaEYsRUFBYWhKLGtCQUN0QnFPLE9BQVFyRixFQUFhL0ksa0JBRXZCa1IsV0FBWSxTQUFvQkMsRUFBUWpULEdBQ2hDQSxFQUNTcEIsTUFBTWpHLFVBQVVvVCxNQUFNdkIsS0FBS3hRLFNBQVNvRyxpQkFBaUJKLElBQzNEd0ksUUFBUSxTQUFVc0csR0FDdkIsSUFBSW1FLEVBQU9uRSxLQUdiLElBQUltRSxHQUdSQyxLQUFNLGNBRVJqYSxPQUFPdU4saUJBQWlCLG1CQUFvQixXQUMxQ29KLElBQUltRCxPQUFTLElBQUlsRyxFQUFPLGNBQ2IsSUFBSTRFLEVBQUksWUFDSCxJQUFJZSxFQUFVLG1CQUVoQy9ZIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCdzY3JpcHRzJywgZmFjdG9yeSkgOiBmYWN0b3J5KCk7XG59KShmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuICBmdW5jdGlvbiB1bndyYXBFeHBvcnRzKHgpIHtcbiAgICByZXR1cm4geCAmJiB4Ll9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdkZWZhdWx0JykgPyB4WydkZWZhdWx0J10gOiB4O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuICAgIHJldHVybiBtb2R1bGUgPSB7XG4gICAgICBleHBvcnRzOiB7fVxuICAgIH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbiAgfVxuXG4gIHZhciBzdmc0ZXZlcnlib2R5ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgICFmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgICAgbW9kdWxlLmV4cG9ydHMgPyAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOiByb290LnN2ZzRldmVyeWJvZHkgPSBmYWN0b3J5KCk7XG4gICAgfShjb21tb25qc0dsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgICAgLyohIHN2ZzRldmVyeWJvZHkgdjIuMS45IHwgZ2l0aHViLmNvbS9qb25hdGhhbnRuZWFsL3N2ZzRldmVyeWJvZHkgKi9cbiAgICAgIGZ1bmN0aW9uIGVtYmVkKHBhcmVudCwgc3ZnLCB0YXJnZXQpIHtcbiAgICAgICAgLy8gaWYgdGhlIHRhcmdldCBleGlzdHNcbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIC8vIGNyZWF0ZSBhIGRvY3VtZW50IGZyYWdtZW50IHRvIGhvbGQgdGhlIGNvbnRlbnRzIG9mIHRoZSB0YXJnZXRcbiAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICAgICAgICAgIHZpZXdCb3ggPSAhc3ZnLmhhc0F0dHJpYnV0ZShcInZpZXdCb3hcIikgJiYgdGFyZ2V0LmdldEF0dHJpYnV0ZShcInZpZXdCb3hcIik7IC8vIGNvbmRpdGlvbmFsbHkgc2V0IHRoZSB2aWV3Qm94IG9uIHRoZSBzdmdcblxuICAgICAgICAgIHZpZXdCb3ggJiYgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgdmlld0JveCk7IC8vIGNvcHkgdGhlIGNvbnRlbnRzIG9mIHRoZSBjbG9uZSBpbnRvIHRoZSBmcmFnbWVudFxuXG4gICAgICAgICAgZm9yICggLy8gY2xvbmUgdGhlIHRhcmdldFxuICAgICAgICAgIHZhciBjbG9uZSA9IHRhcmdldC5jbG9uZU5vZGUoITApOyBjbG9uZS5jaGlsZE5vZGVzLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNsb25lLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH0gLy8gYXBwZW5kIHRoZSBmcmFnbWVudCBpbnRvIHRoZSBzdmdcblxuXG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsb2FkcmVhZHlzdGF0ZWNoYW5nZSh4aHIpIHtcbiAgICAgICAgLy8gbGlzdGVuIHRvIGNoYW5nZXMgaW4gdGhlIHJlcXVlc3RcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgcmVxdWVzdCBpcyByZWFkeVxuICAgICAgICAgIGlmICg0ID09PSB4aHIucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBjYWNoZWQgaHRtbCBkb2N1bWVudFxuICAgICAgICAgICAgdmFyIGNhY2hlZERvY3VtZW50ID0geGhyLl9jYWNoZWREb2N1bWVudDsgLy8gZW5zdXJlIHRoZSBjYWNoZWQgaHRtbCBkb2N1bWVudCBiYXNlZCBvbiB0aGUgeGhyIHJlc3BvbnNlXG5cbiAgICAgICAgICAgIGNhY2hlZERvY3VtZW50IHx8IChjYWNoZWREb2N1bWVudCA9IHhoci5fY2FjaGVkRG9jdW1lbnQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIiksIGNhY2hlZERvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0geGhyLnJlc3BvbnNlVGV4dCwgeGhyLl9jYWNoZWRUYXJnZXQgPSB7fSksIC8vIGNsZWFyIHRoZSB4aHIgZW1iZWRzIGxpc3QgYW5kIGVtYmVkIGVhY2ggaXRlbVxuICAgICAgICAgICAgeGhyLl9lbWJlZHMuc3BsaWNlKDApLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAvLyBnZXQgdGhlIGNhY2hlZCB0YXJnZXRcbiAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHhoci5fY2FjaGVkVGFyZ2V0W2l0ZW0uaWRdOyAvLyBlbnN1cmUgdGhlIGNhY2hlZCB0YXJnZXRcblxuICAgICAgICAgICAgICB0YXJnZXQgfHwgKHRhcmdldCA9IHhoci5fY2FjaGVkVGFyZ2V0W2l0ZW0uaWRdID0gY2FjaGVkRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXRlbS5pZCkpLCAvLyBlbWJlZCB0aGUgdGFyZ2V0IGludG8gdGhlIHN2Z1xuICAgICAgICAgICAgICBlbWJlZChpdGVtLnBhcmVudCwgaXRlbS5zdmcsIHRhcmdldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIC8vIHRlc3QgdGhlIHJlYWR5IHN0YXRlIGNoYW5nZSBpbW1lZGlhdGVseVxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHN2ZzRldmVyeWJvZHkocmF3b3B0cykge1xuICAgICAgICBmdW5jdGlvbiBvbmludGVydmFsKCkge1xuICAgICAgICAgIC8vIHdoaWxlIHRoZSBpbmRleCBleGlzdHMgaW4gdGhlIGxpdmUgPHVzZT4gY29sbGVjdGlvblxuICAgICAgICAgIGZvciAoIC8vIGdldCB0aGUgY2FjaGVkIDx1c2U+IGluZGV4XG4gICAgICAgICAgdmFyIGluZGV4ID0gMDsgaW5kZXggPCB1c2VzLmxlbmd0aDspIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgY3VycmVudCA8dXNlPlxuICAgICAgICAgICAgdmFyIHVzZSA9IHVzZXNbaW5kZXhdLFxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHVzZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgIHN2ZyA9IGdldFNWR0FuY2VzdG9yKHBhcmVudCksXG4gICAgICAgICAgICAgICAgc3JjID0gdXNlLmdldEF0dHJpYnV0ZShcInhsaW5rOmhyZWZcIikgfHwgdXNlLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cbiAgICAgICAgICAgIGlmICghc3JjICYmIG9wdHMuYXR0cmlidXRlTmFtZSAmJiAoc3JjID0gdXNlLmdldEF0dHJpYnV0ZShvcHRzLmF0dHJpYnV0ZU5hbWUpKSwgc3ZnICYmIHNyYykge1xuICAgICAgICAgICAgICBpZiAocG9seWZpbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMudmFsaWRhdGUgfHwgb3B0cy52YWxpZGF0ZShzcmMsIHN2ZywgdXNlKSkge1xuICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSA8dXNlPiBlbGVtZW50XG4gICAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodXNlKTsgLy8gcGFyc2UgdGhlIHNyYyBhbmQgZ2V0IHRoZSB1cmwgYW5kIGlkXG5cbiAgICAgICAgICAgICAgICAgIHZhciBzcmNTcGxpdCA9IHNyYy5zcGxpdChcIiNcIiksXG4gICAgICAgICAgICAgICAgICAgICAgdXJsID0gc3JjU3BsaXQuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICBpZCA9IHNyY1NwbGl0LmpvaW4oXCIjXCIpOyAvLyBpZiB0aGUgbGluayBpcyBleHRlcm5hbFxuXG4gICAgICAgICAgICAgICAgICBpZiAodXJsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGNhY2hlZCB4aHIgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICB2YXIgeGhyID0gcmVxdWVzdHNbdXJsXTsgLy8gZW5zdXJlIHRoZSB4aHIgcmVxdWVzdCBleGlzdHNcblxuICAgICAgICAgICAgICAgICAgICB4aHIgfHwgKHhociA9IHJlcXVlc3RzW3VybF0gPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSwgeGhyLm9wZW4oXCJHRVRcIiwgdXJsKSwgeGhyLnNlbmQoKSwgeGhyLl9lbWJlZHMgPSBbXSksIC8vIGFkZCB0aGUgc3ZnIGFuZCBpZCBhcyBhbiBpdGVtIHRvIHRoZSB4aHIgZW1iZWRzIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgeGhyLl9lbWJlZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgc3ZnOiBzdmcsXG4gICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgICAgICAgIH0pLCAvLyBwcmVwYXJlIHRoZSB4aHIgcmVhZHkgc3RhdGUgY2hhbmdlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIGxvYWRyZWFkeXN0YXRlY2hhbmdlKHhocik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbWJlZCB0aGUgbG9jYWwgaWQgaW50byB0aGUgc3ZnXG4gICAgICAgICAgICAgICAgICAgIGVtYmVkKHBhcmVudCwgc3ZnLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBpbmNyZWFzZSB0aGUgaW5kZXggd2hlbiB0aGUgcHJldmlvdXMgdmFsdWUgd2FzIG5vdCBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICsraW5kZXgsICsrbnVtYmVyT2ZTdmdVc2VFbGVtZW50c1RvQnlwYXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaW5jcmVhc2UgdGhlIGluZGV4IHdoZW4gdGhlIHByZXZpb3VzIHZhbHVlIHdhcyBub3QgXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBjb250aW51ZSB0aGUgaW50ZXJ2YWxcblxuXG4gICAgICAgICAgKCF1c2VzLmxlbmd0aCB8fCB1c2VzLmxlbmd0aCAtIG51bWJlck9mU3ZnVXNlRWxlbWVudHNUb0J5cGFzcyA+IDApICYmIHJlcXVlc3RBbmltYXRpb25GcmFtZShvbmludGVydmFsLCA2Nyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9seWZpbGwsXG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0KHJhd29wdHMpLFxuICAgICAgICAgICAgbmV3ZXJJRVVBID0gL1xcYlRyaWRlbnRcXC9bNTY3XVxcYnxcXGJNU0lFICg/Ojl8MTApXFwuMFxcYi8sXG4gICAgICAgICAgICB3ZWJraXRVQSA9IC9cXGJBcHBsZVdlYktpdFxcLyhcXGQrKVxcYi8sXG4gICAgICAgICAgICBvbGRlckVkZ2VVQSA9IC9cXGJFZGdlXFwvMTJcXC4oXFxkKylcXGIvLFxuICAgICAgICAgICAgZWRnZVVBID0gL1xcYkVkZ2VcXC8uKFxcZCspXFxiLyxcbiAgICAgICAgICAgIGluSWZyYW1lID0gd2luZG93LnRvcCAhPT0gd2luZG93LnNlbGY7XG4gICAgICAgIHBvbHlmaWxsID0gXCJwb2x5ZmlsbFwiIGluIG9wdHMgPyBvcHRzLnBvbHlmaWxsIDogbmV3ZXJJRVVBLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2gob2xkZXJFZGdlVUEpIHx8IFtdKVsxXSA8IDEwNTQ3IHx8IChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKHdlYmtpdFVBKSB8fCBbXSlbMV0gPCA1MzcgfHwgZWRnZVVBLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgaW5JZnJhbWU7IC8vIGNyZWF0ZSB4aHIgcmVxdWVzdHMgb2JqZWN0XG5cbiAgICAgICAgdmFyIHJlcXVlc3RzID0ge30sXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHNldFRpbWVvdXQsXG4gICAgICAgICAgICB1c2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ1c2VcIiksXG4gICAgICAgICAgICBudW1iZXJPZlN2Z1VzZUVsZW1lbnRzVG9CeXBhc3MgPSAwOyAvLyBjb25kaXRpb25hbGx5IHN0YXJ0IHRoZSBpbnRlcnZhbCBpZiB0aGUgcG9seWZpbGwgaXMgYWN0aXZlXG5cbiAgICAgICAgcG9seWZpbGwgJiYgb25pbnRlcnZhbCgpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRTVkdBbmNlc3Rvcihub2RlKSB7XG4gICAgICAgIGZvciAodmFyIHN2ZyA9IG5vZGU7IFwic3ZnXCIgIT09IHN2Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmIChzdmcgPSBzdmcucGFyZW50Tm9kZSk7KSB7fVxuXG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdmc0ZXZlcnlib2R5O1xuICAgIH0pO1xuICB9KTtcbiAgdmFyIHNjcm9sbExvY2sgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gICAgKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0pKGNvbW1vbmpzR2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvKioqKioqL1xuICAgICAgICBmdW5jdGlvbiAobW9kdWxlcykge1xuICAgICAgICAgIC8vIHdlYnBhY2tCb290c3RyYXBcblxuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgLy8gVGhlIG1vZHVsZSBjYWNoZVxuXG4gICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICB2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5cbiAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuICAgICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXG4gICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgICAgaWYgKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gICAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuICAgICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cbiAgICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgICAgdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuICAgICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgICAgICBpOiBtb2R1bGVJZCxcblxuICAgICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgICAgICBsOiBmYWxzZSxcblxuICAgICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXG4gICAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgICBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbiAgICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICAvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cbiAgICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAgIG1vZHVsZS5sID0gdHJ1ZTtcbiAgICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXG4gICAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcblxuICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcblxuICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuXG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uIChleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICBpZiAoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuICAgICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0OiBnZXR0ZXJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5cbiAgICAgICAgICAvKioqKioqL1xuXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbiAoZXhwb3J0cykge1xuICAgICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiAgICAgICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiAnTW9kdWxlJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIH07XG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgLy8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG5cbiAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuXG4gICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcblxuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgLy8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG5cbiAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcblxuICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZSkge1xuICAgICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAgIGlmIChtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiAgICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAgIGlmIChtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgICAgaWYgKG1vZGUgJiA0ICYmIF90eXBlb2YodmFsdWUpID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgICB2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiAgICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHtcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAgIGlmIChtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVtrZXldO1xuICAgICAgICAgICAgICB9LmJpbmQobnVsbCwga2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgICByZXR1cm4gbnM7XG4gICAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIH07XG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcblxuICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICB2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXREZWZhdWx0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107XG4gICAgICAgICAgICB9IDpcbiAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiAgICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgICAgcmV0dXJuIGdldHRlcjtcbiAgICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvKioqKioqL1xuXG4gICAgICAgICAgLyoqKioqKi9cbiAgICAgICAgICAvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcblxuICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uIChvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgICAgLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cblxuICAgICAgICAgIC8qKioqKiovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIC8qKioqKiovXG5cbiAgICAgICAgICAvKioqKioqL1xuICAgICAgICAgIC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXG4gICAgICAgICAgLyoqKioqKi9cblxuICAgICAgICAgIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuICAgICAgICAgIC8qKioqKiovXG4gICAgICAgIH0oXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAgICAgLyoqKioqKi9cbiAgICAgICAgW1xuICAgICAgICAvKiAwICovXG5cbiAgICAgICAgLyoqKi9cbiAgICAgICAgZnVuY3Rpb24gKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvdG9vbHMuanNcblxuXG4gICAgICAgICAgdmFyIGFyZ3VtZW50QXNBcnJheSA9IGZ1bmN0aW9uIGFyZ3VtZW50QXNBcnJheShhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJndW1lbnQpID8gYXJndW1lbnQgOiBbYXJndW1lbnRdO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgaXNFbGVtZW50ID0gZnVuY3Rpb24gaXNFbGVtZW50KHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIE5vZGU7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBpc0VsZW1lbnRMaXN0ID0gZnVuY3Rpb24gaXNFbGVtZW50TGlzdChub2RlTGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVMaXN0IGluc3RhbmNlb2YgTm9kZUxpc3Q7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBlYWNoTm9kZSA9IGZ1bmN0aW9uIGVhY2hOb2RlKG5vZGVMaXN0LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKG5vZGVMaXN0ICYmIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIG5vZGVMaXN0ID0gaXNFbGVtZW50TGlzdChub2RlTGlzdCkgPyBub2RlTGlzdCA6IFtub2RlTGlzdF07XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayhub2RlTGlzdFtpXSwgaSwgbm9kZUxpc3QubGVuZ3RoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciB0aHJvd0Vycm9yID0gZnVuY3Rpb24gdGhyb3dFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihcIltzY3JvbGwtbG9ja10gXCIuY29uY2F0KG1lc3NhZ2UpKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGFycmF5QXNTZWxlY3RvciA9IGZ1bmN0aW9uIGFycmF5QXNTZWxlY3RvcihhcnJheSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IGFycmF5LmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIG5vZGVMaXN0QXNBcnJheSA9IGZ1bmN0aW9uIG5vZGVMaXN0QXNBcnJheShub2RlTGlzdCkge1xuICAgICAgICAgICAgdmFyIG5vZGVzID0gW107XG4gICAgICAgICAgICBlYWNoTm9kZShub2RlTGlzdCwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBub2RlcztcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGZpbmRQYXJlbnRCeVNlbGVjdG9yID0gZnVuY3Rpb24gZmluZFBhcmVudEJ5U2VsZWN0b3IoJGVsLCBzZWxlY3Rvcikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgICAgICAgICB2YXIgJHJvb3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGRvY3VtZW50O1xuXG4gICAgICAgICAgICBpZiAoc2VsZiAmJiBub2RlTGlzdEFzQXJyYXkoJHJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmluZGV4T2YoJGVsKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICRlbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKCgkZWwgPSAkZWwucGFyZW50RWxlbWVudCkgJiYgbm9kZUxpc3RBc0FycmF5KCRyb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5pbmRleE9mKCRlbCkgPT09IC0xKSB7fVxuXG4gICAgICAgICAgICByZXR1cm4gJGVsO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgZWxlbWVudEhhc1NlbGVjdG9yID0gZnVuY3Rpb24gZWxlbWVudEhhc1NlbGVjdG9yKCRlbCwgc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciAkcm9vdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZG9jdW1lbnQ7XG4gICAgICAgICAgICB2YXIgaGFzID0gbm9kZUxpc3RBc0FycmF5KCRyb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5pbmRleE9mKCRlbCkgIT09IC0xO1xuICAgICAgICAgICAgcmV0dXJuIGhhcztcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGVsZW1lbnRIYXNPdmVyZmxvd0hpZGRlbiA9IGZ1bmN0aW9uIGVsZW1lbnRIYXNPdmVyZmxvd0hpZGRlbigkZWwpIHtcbiAgICAgICAgICAgIGlmICgkZWwpIHtcbiAgICAgICAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKCRlbCk7XG4gICAgICAgICAgICAgIHZhciBvdmVyZmxvd0lzSGlkZGVuID0gY29tcHV0ZWRTdHlsZS5vdmVyZmxvdyA9PT0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgIHJldHVybiBvdmVyZmxvd0lzSGlkZGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgZWxlbWVudFNjcm9sbFRvcE9uU3RhcnQgPSBmdW5jdGlvbiBlbGVtZW50U2Nyb2xsVG9wT25TdGFydCgkZWwpIHtcbiAgICAgICAgICAgIGlmICgkZWwpIHtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRIYXNPdmVyZmxvd0hpZGRlbigkZWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gJGVsLnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbFRvcCA8PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgZWxlbWVudFNjcm9sbFRvcE9uRW5kID0gZnVuY3Rpb24gZWxlbWVudFNjcm9sbFRvcE9uRW5kKCRlbCkge1xuICAgICAgICAgICAgaWYgKCRlbCkge1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudEhhc092ZXJmbG93SGlkZGVuKCRlbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSAkZWwuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gJGVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcFdpdGhIZWlnaHQgPSBzY3JvbGxUb3AgKyAkZWwub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsVG9wV2l0aEhlaWdodCA+PSBzY3JvbGxIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBlbGVtZW50U2Nyb2xsTGVmdE9uU3RhcnQgPSBmdW5jdGlvbiBlbGVtZW50U2Nyb2xsTGVmdE9uU3RhcnQoJGVsKSB7XG4gICAgICAgICAgICBpZiAoJGVsKSB7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50SGFzT3ZlcmZsb3dIaWRkZW4oJGVsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSAkZWwuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbExlZnQgPD0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGVsZW1lbnRTY3JvbGxMZWZ0T25FbmQgPSBmdW5jdGlvbiBlbGVtZW50U2Nyb2xsTGVmdE9uRW5kKCRlbCkge1xuICAgICAgICAgICAgaWYgKCRlbCkge1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudEhhc092ZXJmbG93SGlkZGVuKCRlbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gJGVsLnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgIHZhciBzY3JvbGxXaWR0aCA9ICRlbC5zY3JvbGxXaWR0aDtcbiAgICAgICAgICAgICAgdmFyIHNjcm9sbExlZnRXaXRoV2lkdGggPSBzY3JvbGxMZWZ0ICsgJGVsLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsTGVmdFdpdGhXaWR0aCA+PSBzY3JvbGxXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGVsZW1lbnRJc1Njcm9sbGFibGVGaWVsZCA9IGZ1bmN0aW9uIGVsZW1lbnRJc1Njcm9sbGFibGVGaWVsZCgkZWwpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9ICd0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZT1cInRydWVcIl0nO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRIYXNTZWxlY3RvcigkZWwsIHNlbGVjdG9yKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGVsZW1lbnRJc0lucHV0UmFuZ2UgPSBmdW5jdGlvbiBlbGVtZW50SXNJbnB1dFJhbmdlKCRlbCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gJ2lucHV0W3R5cGU9XCJyYW5nZVwiXSc7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudEhhc1NlbGVjdG9yKCRlbCwgc2VsZWN0b3IpO1xuICAgICAgICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL3Njcm9sbC1sb2NrLmpzXG5cbiAgICAgICAgICAvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi9cblxuXG4gICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZGlzYWJsZVBhZ2VTY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc2FibGVQYWdlU2Nyb2xsO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqL1xuXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJlbmFibGVQYWdlU2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmFibGVQYWdlU2Nyb2xsO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqL1xuXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRTY3JvbGxTdGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0U2Nyb2xsU3RhdGU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImNsZWFyUXVldWVTY3JvbGxMb2Nrc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xlYXJRdWV1ZVNjcm9sbExvY2tzO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqL1xuXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRUYXJnZXRTY3JvbGxCYXJXaWR0aFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsX2xvY2tfZ2V0VGFyZ2V0U2Nyb2xsQmFyV2lkdGg7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImdldEN1cnJlbnRUYXJnZXRTY3JvbGxCYXJXaWR0aFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsX2xvY2tfZ2V0Q3VycmVudFRhcmdldFNjcm9sbEJhcldpZHRoO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqL1xuXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRQYWdlU2Nyb2xsQmFyV2lkdGhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFBhZ2VTY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi9cblxuXG4gICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0Q3VycmVudFBhZ2VTY3JvbGxCYXJXaWR0aFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q3VycmVudFBhZ2VTY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi9cblxuXG4gICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYWRkU2Nyb2xsYWJsZVRhcmdldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsX2xvY2tfYWRkU2Nyb2xsYWJsZVRhcmdldDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi9cblxuXG4gICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVtb3ZlU2Nyb2xsYWJsZVRhcmdldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsX2xvY2tfcmVtb3ZlU2Nyb2xsYWJsZVRhcmdldDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi9cblxuXG4gICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYWRkU2Nyb2xsYWJsZVNlbGVjdG9yXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxfbG9ja19hZGRTY3JvbGxhYmxlU2VsZWN0b3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbW92ZVNjcm9sbGFibGVTZWxlY3RvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsX2xvY2tfcmVtb3ZlU2Nyb2xsYWJsZVNlbGVjdG9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqL1xuXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhZGRMb2NrYWJsZVRhcmdldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsX2xvY2tfYWRkTG9ja2FibGVUYXJnZXQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFkZExvY2thYmxlU2VsZWN0b3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbF9sb2NrX2FkZExvY2thYmxlU2VsZWN0b3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInNldEZpbGxHYXBNZXRob2RcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbF9sb2NrX3NldEZpbGxHYXBNZXRob2Q7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFkZEZpbGxHYXBUYXJnZXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbF9sb2NrX2FkZEZpbGxHYXBUYXJnZXQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcInJlbW92ZUZpbGxHYXBUYXJnZXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbF9sb2NrX3JlbW92ZUZpbGxHYXBUYXJnZXQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovXG5cblxuICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImFkZEZpbGxHYXBTZWxlY3RvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsX2xvY2tfYWRkRmlsbEdhcFNlbGVjdG9yO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqL1xuXG5cbiAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJyZW1vdmVGaWxsR2FwU2VsZWN0b3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbF9sb2NrX3JlbW92ZUZpbGxHYXBTZWxlY3RvcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi9cblxuXG4gICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwicmVmaWxsR2Fwc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVmaWxsR2FwcztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgICAgICAgICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIEZJTExfR0FQX0FWQUlMQUJMRV9NRVRIT0RTID0gWydwYWRkaW5nJywgJ21hcmdpbicsICd3aWR0aCcsICdtYXgtd2lkdGgnLCAnbm9uZSddO1xuICAgICAgICAgIHZhciBUT1VDSF9ESVJFQ1RJT05fREVURUNUX09GRlNFVCA9IDM7XG4gICAgICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgICAgc2Nyb2xsOiB0cnVlLFxuICAgICAgICAgICAgcXVldWU6IDAsXG4gICAgICAgICAgICBzY3JvbGxhYmxlU2VsZWN0b3JzOiBbJ1tkYXRhLXNjcm9sbC1sb2NrLXNjcm9sbGFibGVdJ10sXG4gICAgICAgICAgICBsb2NrYWJsZVNlbGVjdG9yczogWydib2R5JywgJ1tkYXRhLXNjcm9sbC1sb2NrLWxvY2thYmxlXSddLFxuICAgICAgICAgICAgZmlsbEdhcFNlbGVjdG9yczogWydib2R5JywgJ1tkYXRhLXNjcm9sbC1sb2NrLWZpbGwtZ2FwXScsICdbZGF0YS1zY3JvbGwtbG9jay1sb2NrYWJsZV0nXSxcbiAgICAgICAgICAgIGZpbGxHYXBNZXRob2Q6IEZJTExfR0FQX0FWQUlMQUJMRV9NRVRIT0RTWzBdLFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHN0YXJ0VG91Y2hZOiAwLFxuICAgICAgICAgICAgc3RhcnRUb3VjaFg6IDBcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGRpc2FibGVQYWdlU2Nyb2xsID0gZnVuY3Rpb24gZGlzYWJsZVBhZ2VTY3JvbGwodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUucXVldWUgPD0gMCkge1xuICAgICAgICAgICAgICBzdGF0ZS5zY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgc2Nyb2xsX2xvY2tfaGlkZUxvY2thYmxlT3ZlcmZsb3coKTtcbiAgICAgICAgICAgICAgZmlsbEdhcHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2Nyb2xsX2xvY2tfYWRkU2Nyb2xsYWJsZVRhcmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgc3RhdGUucXVldWUrKztcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGVuYWJsZVBhZ2VTY3JvbGwgPSBmdW5jdGlvbiBlbmFibGVQYWdlU2Nyb2xsKHRhcmdldCkge1xuICAgICAgICAgICAgc3RhdGUucXVldWUgPiAwICYmIHN0YXRlLnF1ZXVlLS07XG5cbiAgICAgICAgICAgIGlmIChzdGF0ZS5xdWV1ZSA8PSAwKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnNjcm9sbCA9IHRydWU7XG4gICAgICAgICAgICAgIHNjcm9sbF9sb2NrX3Nob3dMb2NrYWJsZU92ZXJmbG93KCk7XG4gICAgICAgICAgICAgIHVuZmlsbEdhcHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2Nyb2xsX2xvY2tfcmVtb3ZlU2Nyb2xsYWJsZVRhcmdldCh0YXJnZXQpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgZ2V0U2Nyb2xsU3RhdGUgPSBmdW5jdGlvbiBnZXRTY3JvbGxTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zY3JvbGw7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBjbGVhclF1ZXVlU2Nyb2xsTG9ja3MgPSBmdW5jdGlvbiBjbGVhclF1ZXVlU2Nyb2xsTG9ja3MoKSB7XG4gICAgICAgICAgICBzdGF0ZS5xdWV1ZSA9IDA7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9ja19nZXRUYXJnZXRTY3JvbGxCYXJXaWR0aCA9IGZ1bmN0aW9uIGdldFRhcmdldFNjcm9sbEJhcldpZHRoKCR0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBvbmx5RXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGlzRWxlbWVudCgkdGFyZ2V0KSkge1xuICAgICAgICAgICAgICB2YXIgY3VycmVudE92ZXJmbG93WVByb3BlcnR5ID0gJHRhcmdldC5zdHlsZS5vdmVyZmxvd1k7XG5cbiAgICAgICAgICAgICAgaWYgKG9ubHlFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWdldFNjcm9sbFN0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICR0YXJnZXQuc3R5bGUub3ZlcmZsb3dZID0gJHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLWxvY2stc2F2ZWQtb3ZlcmZsb3cteS1wcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc2Nyb2xsX2xvY2tfZ2V0Q3VycmVudFRhcmdldFNjcm9sbEJhcldpZHRoKCR0YXJnZXQpO1xuICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLm92ZXJmbG93WSA9IGN1cnJlbnRPdmVyZmxvd1lQcm9wZXJ0eTtcbiAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9ja19nZXRDdXJyZW50VGFyZ2V0U2Nyb2xsQmFyV2lkdGggPSBmdW5jdGlvbiBnZXRDdXJyZW50VGFyZ2V0U2Nyb2xsQmFyV2lkdGgoJHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKGlzRWxlbWVudCgkdGFyZ2V0KSkge1xuICAgICAgICAgICAgICBpZiAoJHRhcmdldCA9PT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudFdpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50V2lkdGggPSB3aW5kb3dXaWR0aCAtIGRvY3VtZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRXaWR0aDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyTGVmdFdpZHRoQ3VycmVudFByb3BlcnR5ID0gJHRhcmdldC5zdHlsZS5ib3JkZXJMZWZ0V2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGJvcmRlclJpZ2h0V2lkdGhDdXJyZW50UHJvcGVydHkgPSAkdGFyZ2V0LnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg7XG4gICAgICAgICAgICAgICAgJHRhcmdldC5zdHlsZS5ib3JkZXJMZWZ0V2lkdGggPSAnMHB4JztcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLmJvcmRlclJpZ2h0V2lkdGggPSAnMHB4JztcblxuICAgICAgICAgICAgICAgIHZhciBfY3VycmVudFdpZHRoID0gJHRhcmdldC5vZmZzZXRXaWR0aCAtICR0YXJnZXQuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLmJvcmRlckxlZnRXaWR0aCA9IGJvcmRlckxlZnRXaWR0aEN1cnJlbnRQcm9wZXJ0eTtcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLmJvcmRlclJpZ2h0V2lkdGggPSBib3JkZXJSaWdodFdpZHRoQ3VycmVudFByb3BlcnR5O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY3VycmVudFdpZHRoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGdldFBhZ2VTY3JvbGxCYXJXaWR0aCA9IGZ1bmN0aW9uIGdldFBhZ2VTY3JvbGxCYXJXaWR0aCgpIHtcbiAgICAgICAgICAgIHZhciBvbmx5RXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxfbG9ja19nZXRUYXJnZXRTY3JvbGxCYXJXaWR0aChkb2N1bWVudC5ib2R5LCBvbmx5RXhpc3RzKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGdldEN1cnJlbnRQYWdlU2Nyb2xsQmFyV2lkdGggPSBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZVNjcm9sbEJhcldpZHRoKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbF9sb2NrX2dldEN1cnJlbnRUYXJnZXRTY3JvbGxCYXJXaWR0aChkb2N1bWVudC5ib2R5KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX2FkZFNjcm9sbGFibGVUYXJnZXQgPSBmdW5jdGlvbiBhZGRTY3JvbGxhYmxlVGFyZ2V0KHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICB2YXIgdGFyZ2V0cyA9IGFyZ3VtZW50QXNBcnJheSh0YXJnZXQpO1xuICAgICAgICAgICAgICB0YXJnZXRzLm1hcChmdW5jdGlvbiAoJHRhcmdldHMpIHtcbiAgICAgICAgICAgICAgICBlYWNoTm9kZSgkdGFyZ2V0cywgZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc0VsZW1lbnQoJHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLWxvY2stc2Nyb2xsYWJsZScsICcnKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3IoXCJcXFwiXCIuY29uY2F0KCR0YXJnZXQsIFwiXFxcIiBpcyBub3QgYSBFbGVtZW50LlwiKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsX2xvY2tfcmVtb3ZlU2Nyb2xsYWJsZVRhcmdldCA9IGZ1bmN0aW9uIHJlbW92ZVNjcm9sbGFibGVUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgIHZhciB0YXJnZXRzID0gYXJndW1lbnRBc0FycmF5KHRhcmdldCk7XG4gICAgICAgICAgICAgIHRhcmdldHMubWFwKGZ1bmN0aW9uICgkdGFyZ2V0cykge1xuICAgICAgICAgICAgICAgIGVhY2hOb2RlKCR0YXJnZXRzLCBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudCgkdGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1zY3JvbGxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKFwiXFxcIlwiLmNvbmNhdCgkdGFyZ2V0LCBcIlxcXCIgaXMgbm90IGEgRWxlbWVudC5cIikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX2FkZFNjcm9sbGFibGVTZWxlY3RvciA9IGZ1bmN0aW9uIGFkZFNjcm9sbGFibGVTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgIHZhciBzZWxlY3RvcnMgPSBhcmd1bWVudEFzQXJyYXkoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICBzZWxlY3RvcnMubWFwKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHN0YXRlLnNjcm9sbGFibGVTZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsX2xvY2tfcmVtb3ZlU2Nyb2xsYWJsZVNlbGVjdG9yID0gZnVuY3Rpb24gcmVtb3ZlU2Nyb2xsYWJsZVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgdmFyIHNlbGVjdG9ycyA9IGFyZ3VtZW50QXNBcnJheShzZWxlY3Rvcik7XG4gICAgICAgICAgICAgIHNlbGVjdG9ycy5tYXAoZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2Nyb2xsYWJsZVNlbGVjdG9ycyA9IHN0YXRlLnNjcm9sbGFibGVTZWxlY3RvcnMuZmlsdGVyKGZ1bmN0aW9uIChzU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzU2VsZWN0b3IgIT09IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX2FkZExvY2thYmxlVGFyZ2V0ID0gZnVuY3Rpb24gYWRkTG9ja2FibGVUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgIHZhciB0YXJnZXRzID0gYXJndW1lbnRBc0FycmF5KHRhcmdldCk7XG4gICAgICAgICAgICAgIHRhcmdldHMubWFwKGZ1bmN0aW9uICgkdGFyZ2V0cykge1xuICAgICAgICAgICAgICAgIGVhY2hOb2RlKCR0YXJnZXRzLCBmdW5jdGlvbiAoJHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudCgkdGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1sb2NrYWJsZScsICcnKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3IoXCJcXFwiXCIuY29uY2F0KCR0YXJnZXQsIFwiXFxcIiBpcyBub3QgYSBFbGVtZW50LlwiKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmICghZ2V0U2Nyb2xsU3RhdGUoKSkge1xuICAgICAgICAgICAgICAgIHNjcm9sbF9sb2NrX2hpZGVMb2NrYWJsZU92ZXJmbG93KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX2FkZExvY2thYmxlU2VsZWN0b3IgPSBmdW5jdGlvbiBhZGRMb2NrYWJsZVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgdmFyIHNlbGVjdG9ycyA9IGFyZ3VtZW50QXNBcnJheShzZWxlY3Rvcik7XG4gICAgICAgICAgICAgIHNlbGVjdG9ycy5tYXAoZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubG9ja2FibGVTZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmICghZ2V0U2Nyb2xsU3RhdGUoKSkge1xuICAgICAgICAgICAgICAgIHNjcm9sbF9sb2NrX2hpZGVMb2NrYWJsZU92ZXJmbG93KCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzY3JvbGxfbG9ja19hZGRGaWxsR2FwU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsX2xvY2tfc2V0RmlsbEdhcE1ldGhvZCA9IGZ1bmN0aW9uIHNldEZpbGxHYXBNZXRob2QobWV0aG9kKSB7XG4gICAgICAgICAgICBpZiAobWV0aG9kKSB7XG4gICAgICAgICAgICAgIGlmIChGSUxMX0dBUF9BVkFJTEFCTEVfTUVUSE9EUy5pbmRleE9mKG1ldGhvZCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZmlsbEdhcE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgICAgICByZWZpbGxHYXBzKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1ldGhvZHMgPSBGSUxMX0dBUF9BVkFJTEFCTEVfTUVUSE9EUy5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3IoXCJcXFwiXCIuY29uY2F0KG1ldGhvZCwgXCJcXFwiIG1ldGhvZCBpcyBub3QgYXZhaWxhYmxlIVxcbkF2YWlsYWJsZSBmaWxsIGdhcCBtZXRob2RzOiBcIikuY29uY2F0KG1ldGhvZHMsIFwiLlwiKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX2FkZEZpbGxHYXBUYXJnZXQgPSBmdW5jdGlvbiBhZGRGaWxsR2FwVGFyZ2V0KHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICB2YXIgdGFyZ2V0cyA9IGFyZ3VtZW50QXNBcnJheSh0YXJnZXQpO1xuICAgICAgICAgICAgICB0YXJnZXRzLm1hcChmdW5jdGlvbiAoJHRhcmdldHMpIHtcbiAgICAgICAgICAgICAgICBlYWNoTm9kZSgkdGFyZ2V0cywgZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc0VsZW1lbnQoJHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLWxvY2stZmlsbC1nYXAnLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5zY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxfbG9ja19maWxsR2FwVGFyZ2V0KCR0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKFwiXFxcIlwiLmNvbmNhdCgkdGFyZ2V0LCBcIlxcXCIgaXMgbm90IGEgRWxlbWVudC5cIikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX3JlbW92ZUZpbGxHYXBUYXJnZXQgPSBmdW5jdGlvbiByZW1vdmVGaWxsR2FwVGFyZ2V0KHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICB2YXIgdGFyZ2V0cyA9IGFyZ3VtZW50QXNBcnJheSh0YXJnZXQpO1xuICAgICAgICAgICAgICB0YXJnZXRzLm1hcChmdW5jdGlvbiAoJHRhcmdldHMpIHtcbiAgICAgICAgICAgICAgICBlYWNoTm9kZSgkdGFyZ2V0cywgZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc0VsZW1lbnQoJHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLWxvY2stZmlsbC1nYXAnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLnNjcm9sbCkge1xuICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbF9sb2NrX3VuZmlsbEdhcFRhcmdldCgkdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihcIlxcXCJcIi5jb25jYXQoJHRhcmdldCwgXCJcXFwiIGlzIG5vdCBhIEVsZW1lbnQuXCIpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9ja19hZGRGaWxsR2FwU2VsZWN0b3IgPSBmdW5jdGlvbiBhZGRGaWxsR2FwU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICB2YXIgc2VsZWN0b3JzID0gYXJndW1lbnRBc0FycmF5KHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgc2VsZWN0b3JzLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuZmlsbEdhcFNlbGVjdG9ycy5pbmRleE9mKHNlbGVjdG9yKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlLmZpbGxHYXBTZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghc3RhdGUuc2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbF9sb2NrX2ZpbGxHYXBTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX3JlbW92ZUZpbGxHYXBTZWxlY3RvciA9IGZ1bmN0aW9uIHJlbW92ZUZpbGxHYXBTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgIHZhciBzZWxlY3RvcnMgPSBhcmd1bWVudEFzQXJyYXkoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICBzZWxlY3RvcnMubWFwKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHN0YXRlLmZpbGxHYXBTZWxlY3RvcnMgPSBzdGF0ZS5maWxsR2FwU2VsZWN0b3JzLmZpbHRlcihmdW5jdGlvbiAoZlNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZlNlbGVjdG9yICE9PSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghc3RhdGUuc2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgICBzY3JvbGxfbG9ja191bmZpbGxHYXBTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHJlZmlsbEdhcHMgPSBmdW5jdGlvbiByZWZpbGxHYXBzKCkge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5zY3JvbGwpIHtcbiAgICAgICAgICAgICAgZmlsbEdhcHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX2hpZGVMb2NrYWJsZU92ZXJmbG93ID0gZnVuY3Rpb24gaGlkZUxvY2thYmxlT3ZlcmZsb3coKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBhcnJheUFzU2VsZWN0b3Ioc3RhdGUubG9ja2FibGVTZWxlY3RvcnMpO1xuICAgICAgICAgICAgc2Nyb2xsX2xvY2tfaGlkZUxvY2thYmxlT3ZlcmZsb3dTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9ja19zaG93TG9ja2FibGVPdmVyZmxvdyA9IGZ1bmN0aW9uIHNob3dMb2NrYWJsZU92ZXJmbG93KCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gYXJyYXlBc1NlbGVjdG9yKHN0YXRlLmxvY2thYmxlU2VsZWN0b3JzKTtcbiAgICAgICAgICAgIHNjcm9sbF9sb2NrX3Nob3dMb2NrYWJsZU92ZXJmbG93U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsX2xvY2tfaGlkZUxvY2thYmxlT3ZlcmZsb3dTZWxlY3RvciA9IGZ1bmN0aW9uIGhpZGVMb2NrYWJsZU92ZXJmbG93U2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICAgICAgZWFjaE5vZGUoJHRhcmdldHMsIGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgICAgICAgIHNjcm9sbF9sb2NrX2hpZGVMb2NrYWJsZU92ZXJmbG93VGFyZ2V0KCR0YXJnZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9ja19zaG93TG9ja2FibGVPdmVyZmxvd1NlbGVjdG9yID0gZnVuY3Rpb24gc2hvd0xvY2thYmxlT3ZlcmZsb3dTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgICAgICAgdmFyICR0YXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICBlYWNoTm9kZSgkdGFyZ2V0cywgZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsX2xvY2tfc2hvd0xvY2thYmxlT3ZlcmZsb3dUYXJnZXQoJHRhcmdldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX2hpZGVMb2NrYWJsZU92ZXJmbG93VGFyZ2V0ID0gZnVuY3Rpb24gaGlkZUxvY2thYmxlT3ZlcmZsb3dUYXJnZXQoJHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKGlzRWxlbWVudCgkdGFyZ2V0KSAmJiAkdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1sb2NrZWQnKSAhPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoJHRhcmdldCk7XG4gICAgICAgICAgICAgICR0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLXNhdmVkLW92ZXJmbG93LXktcHJvcGVydHknLCBjb21wdXRlZFN0eWxlLm92ZXJmbG93WSk7XG4gICAgICAgICAgICAgICR0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLXNhdmVkLWlubGluZS1vdmVyZmxvdy1wcm9wZXJ0eScsICR0YXJnZXQuc3R5bGUub3ZlcmZsb3cpO1xuICAgICAgICAgICAgICAkdGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1zYXZlZC1pbmxpbmUtb3ZlcmZsb3cteS1wcm9wZXJ0eScsICR0YXJnZXQuc3R5bGUub3ZlcmZsb3dZKTtcbiAgICAgICAgICAgICAgJHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgICAkdGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1sb2NrZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsX2xvY2tfc2hvd0xvY2thYmxlT3ZlcmZsb3dUYXJnZXQgPSBmdW5jdGlvbiBzaG93TG9ja2FibGVPdmVyZmxvd1RhcmdldCgkdGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAoaXNFbGVtZW50KCR0YXJnZXQpICYmICR0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLWxvY2tlZCcpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgJHRhcmdldC5zdHlsZS5vdmVyZmxvdyA9ICR0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLXNhdmVkLWlubGluZS1vdmVyZmxvdy1wcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLm92ZXJmbG93WSA9ICR0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLXNhdmVkLWlubGluZS1vdmVyZmxvdy15LXByb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICR0YXJnZXQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLXNhdmVkLW92ZXJmbG93LXByb3BlcnR5Jyk7XG4gICAgICAgICAgICAgICR0YXJnZXQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLXNhdmVkLWlubGluZS1vdmVyZmxvdy1wcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1zYXZlZC1pbmxpbmUtb3ZlcmZsb3cteS1wcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1sb2NrZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGZpbGxHYXBzID0gZnVuY3Rpb24gZmlsbEdhcHMoKSB7XG4gICAgICAgICAgICBzdGF0ZS5maWxsR2FwU2VsZWN0b3JzLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsX2xvY2tfZmlsbEdhcFNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgdW5maWxsR2FwcyA9IGZ1bmN0aW9uIHVuZmlsbEdhcHMoKSB7XG4gICAgICAgICAgICBzdGF0ZS5maWxsR2FwU2VsZWN0b3JzLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsX2xvY2tfdW5maWxsR2FwU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9ja19maWxsR2FwU2VsZWN0b3IgPSBmdW5jdGlvbiBmaWxsR2FwU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICAgICAgdmFyIGlzTG9ja2FibGUgPSBzdGF0ZS5sb2NrYWJsZVNlbGVjdG9ycy5pbmRleE9mKHNlbGVjdG9yKSAhPT0gLTE7XG4gICAgICAgICAgICBlYWNoTm9kZSgkdGFyZ2V0cywgZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsX2xvY2tfZmlsbEdhcFRhcmdldCgkdGFyZ2V0LCBpc0xvY2thYmxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsX2xvY2tfZmlsbEdhcFRhcmdldCA9IGZ1bmN0aW9uIGZpbGxHYXBUYXJnZXQoJHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIGlzTG9ja2FibGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNFbGVtZW50KCR0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHZhciBzY3JvbGxCYXJXaWR0aDtcblxuICAgICAgICAgICAgICBpZiAoJHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLWxvY2stbG9ja2FibGUnKSA9PT0gJycgfHwgaXNMb2NrYWJsZSkge1xuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsX2xvY2tfZ2V0VGFyZ2V0U2Nyb2xsQmFyV2lkdGgoJHRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyICRsb2NrYWJsZVBhcmVudCA9IGZpbmRQYXJlbnRCeVNlbGVjdG9yKCR0YXJnZXQsIGFycmF5QXNTZWxlY3RvcihzdGF0ZS5sb2NrYWJsZVNlbGVjdG9ycykpO1xuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsX2xvY2tfZ2V0VGFyZ2V0U2Nyb2xsQmFyV2lkdGgoJGxvY2thYmxlUGFyZW50LCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgkdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1maWxsZWQtZ2FwJykgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIHNjcm9sbF9sb2NrX3VuZmlsbEdhcFRhcmdldCgkdGFyZ2V0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoJHRhcmdldCk7XG4gICAgICAgICAgICAgICR0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLWZpbGxlZC1nYXAnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAkdGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1jdXJyZW50LWZpbGwtZ2FwLW1ldGhvZCcsIHN0YXRlLmZpbGxHYXBNZXRob2QpO1xuXG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5maWxsR2FwTWV0aG9kID09PSAnbWFyZ2luJykge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50TWFyZ2luID0gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLm1hcmdpblJpZ2h0KTtcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLm1hcmdpblJpZ2h0ID0gXCJcIi5jb25jYXQoY3VycmVudE1hcmdpbiArIHNjcm9sbEJhcldpZHRoLCBcInB4XCIpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmZpbGxHYXBNZXRob2QgPT09ICd3aWR0aCcpIHtcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLndpZHRoID0gXCJjYWxjKDEwMCUgLSBcIi5jb25jYXQoc2Nyb2xsQmFyV2lkdGgsIFwicHgpXCIpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmZpbGxHYXBNZXRob2QgPT09ICdtYXgtd2lkdGgnKSB7XG4gICAgICAgICAgICAgICAgJHRhcmdldC5zdHlsZS5tYXhXaWR0aCA9IFwiY2FsYygxMDAlIC0gXCIuY29uY2F0KHNjcm9sbEJhcldpZHRoLCBcInB4KVwiKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5maWxsR2FwTWV0aG9kID09PSAncGFkZGluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBhZGRpbmcgPSBwYXJzZUZsb2F0KGNvbXB1dGVkU3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiXCIuY29uY2F0KGN1cnJlbnRQYWRkaW5nICsgc2Nyb2xsQmFyV2lkdGgsIFwicHhcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbF9sb2NrX3VuZmlsbEdhcFNlbGVjdG9yID0gZnVuY3Rpb24gdW5maWxsR2FwU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICAgICAgZWFjaE5vZGUoJHRhcmdldHMsIGZ1bmN0aW9uICgkdGFyZ2V0KSB7XG4gICAgICAgICAgICAgIHNjcm9sbF9sb2NrX3VuZmlsbEdhcFRhcmdldCgkdGFyZ2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsX2xvY2tfdW5maWxsR2FwVGFyZ2V0ID0gZnVuY3Rpb24gdW5maWxsR2FwVGFyZ2V0KCR0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmIChpc0VsZW1lbnQoJHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgaWYgKCR0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbC1sb2NrLWZpbGxlZC1nYXAnKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRGaWxsR2FwTWV0aG9kID0gJHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLWxvY2stY3VycmVudC1maWxsLWdhcC1tZXRob2QnKTtcbiAgICAgICAgICAgICAgICAkdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zY3JvbGwtbG9jay1maWxsZWQtZ2FwJyk7XG4gICAgICAgICAgICAgICAgJHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsLWxvY2stY3VycmVudC1maWxsLWdhcC1tZXRob2QnKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RmlsbEdhcE1ldGhvZCA9PT0gJ21hcmdpbicpIHtcbiAgICAgICAgICAgICAgICAgICR0YXJnZXQuc3R5bGUubWFyZ2luUmlnaHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEZpbGxHYXBNZXRob2QgPT09ICd3aWR0aCcpIHtcbiAgICAgICAgICAgICAgICAgICR0YXJnZXQuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEZpbGxHYXBNZXRob2QgPT09ICdtYXgtd2lkdGgnKSB7XG4gICAgICAgICAgICAgICAgICAkdGFyZ2V0LnN0eWxlLm1heFdpZHRoID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRGaWxsR2FwTWV0aG9kID09PSAncGFkZGluZycpIHtcbiAgICAgICAgICAgICAgICAgICR0YXJnZXQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gb25SZXNpemUoZSkge1xuICAgICAgICAgICAgcmVmaWxsR2FwcygpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgb25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICAgICAgICAgIGlmICghc3RhdGUuc2Nyb2xsKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnN0YXJ0VG91Y2hZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgICAgICAgIHN0YXRlLnN0YXJ0VG91Y2hYID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9ja19vblRvdWNoTW92ZSA9IGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGUpIHtcbiAgICAgICAgICAgIGlmICghc3RhdGUuc2Nyb2xsKSB7XG4gICAgICAgICAgICAgIHZhciBzdGFydFRvdWNoWSA9IHN0YXRlLnN0YXJ0VG91Y2hZLFxuICAgICAgICAgICAgICAgICAgc3RhcnRUb3VjaFggPSBzdGF0ZS5zdGFydFRvdWNoWDtcbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDbGllbnRZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgICAgICAgIHZhciBjdXJyZW50Q2xpZW50WCA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuXG4gICAgICAgICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IGFycmF5QXNTZWxlY3RvcihzdGF0ZS5zY3JvbGxhYmxlU2VsZWN0b3JzKTtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgdXA6IHN0YXJ0VG91Y2hZIDwgY3VycmVudENsaWVudFksXG4gICAgICAgICAgICAgICAgICBkb3duOiBzdGFydFRvdWNoWSA+IGN1cnJlbnRDbGllbnRZLFxuICAgICAgICAgICAgICAgICAgbGVmdDogc3RhcnRUb3VjaFggPCBjdXJyZW50Q2xpZW50WCxcbiAgICAgICAgICAgICAgICAgIHJpZ2h0OiBzdGFydFRvdWNoWCA+IGN1cnJlbnRDbGllbnRYXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uV2l0aE9mZnNldCA9IHtcbiAgICAgICAgICAgICAgICAgIHVwOiBzdGFydFRvdWNoWSArIFRPVUNIX0RJUkVDVElPTl9ERVRFQ1RfT0ZGU0VUIDwgY3VycmVudENsaWVudFksXG4gICAgICAgICAgICAgICAgICBkb3duOiBzdGFydFRvdWNoWSAtIFRPVUNIX0RJUkVDVElPTl9ERVRFQ1RfT0ZGU0VUID4gY3VycmVudENsaWVudFksXG4gICAgICAgICAgICAgICAgICBsZWZ0OiBzdGFydFRvdWNoWCArIFRPVUNIX0RJUkVDVElPTl9ERVRFQ1RfT0ZGU0VUIDwgY3VycmVudENsaWVudFgsXG4gICAgICAgICAgICAgICAgICByaWdodDogc3RhcnRUb3VjaFggLSBUT1VDSF9ESVJFQ1RJT05fREVURUNUX09GRlNFVCA+IGN1cnJlbnRDbGllbnRYXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGUgPSBmdW5jdGlvbiBoYW5kbGUoJGVsKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc2tpcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgIGlmICgkZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudFNjcm9sbGFibGVFbCA9IGZpbmRQYXJlbnRCeVNlbGVjdG9yKCRlbCwgc2VsZWN0b3IsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudElzSW5wdXRSYW5nZSgkZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNraXAgfHwgZWxlbWVudElzU2Nyb2xsYWJsZUZpZWxkKCRlbCkgJiYgZmluZFBhcmVudEJ5U2VsZWN0b3IoJGVsLCBzZWxlY3RvcikgfHwgZWxlbWVudEhhc1NlbGVjdG9yKCRlbCwgc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50U2Nyb2xsTGVmdE9uU3RhcnQoJGVsKSAmJiBlbGVtZW50U2Nyb2xsTGVmdE9uRW5kKCRlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24udXAgJiYgZWxlbWVudFNjcm9sbFRvcE9uU3RhcnQoJGVsKSB8fCBkaXJlY3Rpb24uZG93biAmJiBlbGVtZW50U2Nyb2xsVG9wT25FbmQoJGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRTY3JvbGxUb3BPblN0YXJ0KCRlbCkgJiYgZWxlbWVudFNjcm9sbFRvcE9uRW5kKCRlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24ubGVmdCAmJiBlbGVtZW50U2Nyb2xsTGVmdE9uU3RhcnQoJGVsKSB8fCBkaXJlY3Rpb24ucmlnaHQgJiYgZWxlbWVudFNjcm9sbExlZnRPbkVuZCgkZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uV2l0aE9mZnNldC51cCAmJiBlbGVtZW50U2Nyb2xsVG9wT25TdGFydCgkZWwpIHx8IGRpcmVjdGlvbldpdGhPZmZzZXQuZG93biAmJiBlbGVtZW50U2Nyb2xsVG9wT25FbmQoJGVsKSB8fCBkaXJlY3Rpb25XaXRoT2Zmc2V0LmxlZnQgJiYgZWxlbWVudFNjcm9sbExlZnRPblN0YXJ0KCRlbCkgfHwgZGlyZWN0aW9uV2l0aE9mZnNldC5yaWdodCAmJiBlbGVtZW50U2Nyb2xsTGVmdE9uRW5kKCRlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50U2Nyb2xsYWJsZUVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZShwYXJlbnRTY3JvbGxhYmxlRWwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUocGFyZW50U2Nyb2xsYWJsZUVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBoYW5kbGUoZS50YXJnZXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBvblRvdWNoRW5kID0gZnVuY3Rpb24gb25Ub3VjaEVuZChlKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLnNjcm9sbCkge1xuICAgICAgICAgICAgICBzdGF0ZS5zdGFydFRvdWNoWSA9IDA7XG4gICAgICAgICAgICAgIHN0YXRlLnN0YXJ0VG91Y2hYID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNjcm9sbF9sb2NrX29uVG91Y2hNb3ZlLCB7XG4gICAgICAgICAgICAgIHBhc3NpdmU6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGRlcHJlY2F0ZWRNZXRob2RzID0ge1xuICAgICAgICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZSh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgdGhyb3dFcnJvcignXCJoaWRlXCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiZGlzYWJsZVBhZ2VTY3JvbGxcIiBpbnN0ZWFkLiBcXG4gaHR0cHM6Ly9naXRodWIuY29tL0ZMM05LRVkvc2Nyb2xsLWxvY2sjZGlzYWJsZXBhZ2VzY3JvbGxzY3JvbGxhYmxldGFyZ2V0Jyk7XG4gICAgICAgICAgICAgIGRpc2FibGVQYWdlU2Nyb2xsKHRhcmdldCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgdGhyb3dFcnJvcignXCJzaG93XCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiZW5hYmxlUGFnZVNjcm9sbFwiIGluc3RlYWQuIFxcbiBodHRwczovL2dpdGh1Yi5jb20vRkwzTktFWS9zY3JvbGwtbG9jayNlbmFibGVwYWdlc2Nyb2xsc2Nyb2xsYWJsZXRhcmdldCcpO1xuICAgICAgICAgICAgICBlbmFibGVQYWdlU2Nyb2xsKHRhcmdldCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUodGFyZ2V0KSB7XG4gICAgICAgICAgICAgIHRocm93RXJyb3IoJ1widG9nZ2xlXCIgaXMgZGVwcmVjYXRlZCEgRG8gbm90IHVzZSBpdC4nKTtcblxuICAgICAgICAgICAgICBpZiAoZ2V0U2Nyb2xsU3RhdGUoKSkge1xuICAgICAgICAgICAgICAgIGRpc2FibGVQYWdlU2Nyb2xsKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlUGFnZVNjcm9sbCh0YXJnZXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0U3RhdGU6IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgICAgICAgICB0aHJvd0Vycm9yKCdcImdldFN0YXRlXCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiZ2V0U2Nyb2xsU3RhdGVcIiBpbnN0ZWFkLiBcXG4gaHR0cHM6Ly9naXRodWIuY29tL0ZMM05LRVkvc2Nyb2xsLWxvY2sjZ2V0c2Nyb2xsc3RhdGUnKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldFNjcm9sbFN0YXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uIGdldFdpZHRoKCkge1xuICAgICAgICAgICAgICB0aHJvd0Vycm9yKCdcImdldFdpZHRoXCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiZ2V0UGFnZVNjcm9sbEJhcldpZHRoXCIgaW5zdGVhZC4gXFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9GTDNOS0VZL3Njcm9sbC1sb2NrI2dldHBhZ2VzY3JvbGxiYXJ3aWR0aCcpO1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0UGFnZVNjcm9sbEJhcldpZHRoKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q3VycmVudFdpZHRoOiBmdW5jdGlvbiBnZXRDdXJyZW50V2lkdGgoKSB7XG4gICAgICAgICAgICAgIHRocm93RXJyb3IoJ1wiZ2V0Q3VycmVudFdpZHRoXCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiZ2V0Q3VycmVudFBhZ2VTY3JvbGxCYXJXaWR0aFwiIGluc3RlYWQuIFxcbiBodHRwczovL2dpdGh1Yi5jb20vRkwzTktFWS9zY3JvbGwtbG9jayNnZXRjdXJyZW50cGFnZXNjcm9sbGJhcndpZHRoJyk7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDdXJyZW50UGFnZVNjcm9sbEJhcldpZHRoKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0U2Nyb2xsYWJsZVRhcmdldHM6IGZ1bmN0aW9uIHNldFNjcm9sbGFibGVUYXJnZXRzKHRhcmdldCkge1xuICAgICAgICAgICAgICB0aHJvd0Vycm9yKCdcInNldFNjcm9sbGFibGVUYXJnZXRzXCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiYWRkU2Nyb2xsYWJsZVRhcmdldFwiIGluc3RlYWQuIFxcbiBodHRwczovL2dpdGh1Yi5jb20vRkwzTktFWS9zY3JvbGwtbG9jayNhZGRzY3JvbGxhYmxldGFyZ2V0c2Nyb2xsYWJsZXRhcmdldCcpO1xuICAgICAgICAgICAgICBzY3JvbGxfbG9ja19hZGRTY3JvbGxhYmxlVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0RmlsbEdhcFNlbGVjdG9yczogZnVuY3Rpb24gc2V0RmlsbEdhcFNlbGVjdG9ycyhzZWxlY3Rvcikge1xuICAgICAgICAgICAgICB0aHJvd0Vycm9yKCdcInNldEZpbGxHYXBTZWxlY3RvcnNcIiBpcyBkZXByZWNhdGVkISBVc2UgXCJhZGRGaWxsR2FwU2VsZWN0b3JcIiBpbnN0ZWFkLiBcXG4gaHR0cHM6Ly9naXRodWIuY29tL0ZMM05LRVkvc2Nyb2xsLWxvY2sjYWRkZmlsbGdhcHNlbGVjdG9yZmlsbGdhcHNlbGVjdG9yJyk7XG4gICAgICAgICAgICAgIHNjcm9sbF9sb2NrX2FkZEZpbGxHYXBTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0RmlsbEdhcFRhcmdldHM6IGZ1bmN0aW9uIHNldEZpbGxHYXBUYXJnZXRzKHRhcmdldCkge1xuICAgICAgICAgICAgICB0aHJvd0Vycm9yKCdcInNldEZpbGxHYXBUYXJnZXRzXCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiYWRkRmlsbEdhcFRhcmdldFwiIGluc3RlYWQuIFxcbiBodHRwczovL2dpdGh1Yi5jb20vRkwzTktFWS9zY3JvbGwtbG9jayNhZGRmaWxsZ2FwdGFyZ2V0ZmlsbGdhcHRhcmdldCcpO1xuICAgICAgICAgICAgICBzY3JvbGxfbG9ja19hZGRGaWxsR2FwVGFyZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJRdWV1ZTogZnVuY3Rpb24gY2xlYXJRdWV1ZSgpIHtcbiAgICAgICAgICAgICAgdGhyb3dFcnJvcignXCJjbGVhclF1ZXVlXCIgaXMgZGVwcmVjYXRlZCEgVXNlIFwiY2xlYXJRdWV1ZVNjcm9sbExvY2tzXCIgaW5zdGVhZC4gXFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9GTDNOS0VZL3Njcm9sbC1sb2NrI2NsZWFycXVldWVzY3JvbGxsb2NrcycpO1xuICAgICAgICAgICAgICBjbGVhclF1ZXVlU2Nyb2xsTG9ja3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHNjcm9sbExvY2sgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgIGRpc2FibGVQYWdlU2Nyb2xsOiBkaXNhYmxlUGFnZVNjcm9sbCxcbiAgICAgICAgICAgIGVuYWJsZVBhZ2VTY3JvbGw6IGVuYWJsZVBhZ2VTY3JvbGwsXG4gICAgICAgICAgICBnZXRTY3JvbGxTdGF0ZTogZ2V0U2Nyb2xsU3RhdGUsXG4gICAgICAgICAgICBjbGVhclF1ZXVlU2Nyb2xsTG9ja3M6IGNsZWFyUXVldWVTY3JvbGxMb2NrcyxcbiAgICAgICAgICAgIGdldFRhcmdldFNjcm9sbEJhcldpZHRoOiBzY3JvbGxfbG9ja19nZXRUYXJnZXRTY3JvbGxCYXJXaWR0aCxcbiAgICAgICAgICAgIGdldEN1cnJlbnRUYXJnZXRTY3JvbGxCYXJXaWR0aDogc2Nyb2xsX2xvY2tfZ2V0Q3VycmVudFRhcmdldFNjcm9sbEJhcldpZHRoLFxuICAgICAgICAgICAgZ2V0UGFnZVNjcm9sbEJhcldpZHRoOiBnZXRQYWdlU2Nyb2xsQmFyV2lkdGgsXG4gICAgICAgICAgICBnZXRDdXJyZW50UGFnZVNjcm9sbEJhcldpZHRoOiBnZXRDdXJyZW50UGFnZVNjcm9sbEJhcldpZHRoLFxuICAgICAgICAgICAgYWRkU2Nyb2xsYWJsZVNlbGVjdG9yOiBzY3JvbGxfbG9ja19hZGRTY3JvbGxhYmxlU2VsZWN0b3IsXG4gICAgICAgICAgICByZW1vdmVTY3JvbGxhYmxlU2VsZWN0b3I6IHNjcm9sbF9sb2NrX3JlbW92ZVNjcm9sbGFibGVTZWxlY3RvcixcbiAgICAgICAgICAgIGFkZFNjcm9sbGFibGVUYXJnZXQ6IHNjcm9sbF9sb2NrX2FkZFNjcm9sbGFibGVUYXJnZXQsXG4gICAgICAgICAgICByZW1vdmVTY3JvbGxhYmxlVGFyZ2V0OiBzY3JvbGxfbG9ja19yZW1vdmVTY3JvbGxhYmxlVGFyZ2V0LFxuICAgICAgICAgICAgYWRkTG9ja2FibGVTZWxlY3Rvcjogc2Nyb2xsX2xvY2tfYWRkTG9ja2FibGVTZWxlY3RvcixcbiAgICAgICAgICAgIGFkZExvY2thYmxlVGFyZ2V0OiBzY3JvbGxfbG9ja19hZGRMb2NrYWJsZVRhcmdldCxcbiAgICAgICAgICAgIGFkZEZpbGxHYXBTZWxlY3Rvcjogc2Nyb2xsX2xvY2tfYWRkRmlsbEdhcFNlbGVjdG9yLFxuICAgICAgICAgICAgcmVtb3ZlRmlsbEdhcFNlbGVjdG9yOiBzY3JvbGxfbG9ja19yZW1vdmVGaWxsR2FwU2VsZWN0b3IsXG4gICAgICAgICAgICBhZGRGaWxsR2FwVGFyZ2V0OiBzY3JvbGxfbG9ja19hZGRGaWxsR2FwVGFyZ2V0LFxuICAgICAgICAgICAgcmVtb3ZlRmlsbEdhcFRhcmdldDogc2Nyb2xsX2xvY2tfcmVtb3ZlRmlsbEdhcFRhcmdldCxcbiAgICAgICAgICAgIHNldEZpbGxHYXBNZXRob2Q6IHNjcm9sbF9sb2NrX3NldEZpbGxHYXBNZXRob2QsXG4gICAgICAgICAgICByZWZpbGxHYXBzOiByZWZpbGxHYXBzLFxuICAgICAgICAgICAgX3N0YXRlOiBzdGF0ZVxuICAgICAgICAgIH0sIGRlcHJlY2F0ZWRNZXRob2RzKTtcbiAgICAgICAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovXG5cblxuICAgICAgICAgIHZhciBzY3JvbGxfbG9jayA9IF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gc2Nyb2xsTG9jaztcbiAgICAgICAgICAvKioqL1xuICAgICAgICB9XG4gICAgICAgIC8qKioqKiovXG4gICAgICAgIF0pW1wiZGVmYXVsdFwiXVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG4gIHZhciBzY3JvbGxMb2NrJDEgPSB1bndyYXBFeHBvcnRzKHNjcm9sbExvY2spO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gICAgaWYgKCFvKSByZXR1cm47XG4gICAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gICAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShuKTtcbiAgICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIH1cblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICAgIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobykge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAobyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgIHZhciBGID0gZnVuY3Rpb24gRigpIHt9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgczogRixcbiAgICAgICAgICBuOiBmdW5jdGlvbiBuKCkge1xuICAgICAgICAgICAgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7XG4gICAgICAgICAgICAgIGRvbmU6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgdmFsdWU6IG9baSsrXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGU6IGZ1bmN0aW9uIGUoX2UpIHtcbiAgICAgICAgICAgIHRocm93IF9lO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZjogRlxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG4gICAgfVxuXG4gICAgdmFyIGl0LFxuICAgICAgICBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSxcbiAgICAgICAgZGlkRXJyID0gZmFsc2UsXG4gICAgICAgIGVycjtcbiAgICByZXR1cm4ge1xuICAgICAgczogZnVuY3Rpb24gcygpIHtcbiAgICAgICAgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgIH0sXG4gICAgICBuOiBmdW5jdGlvbiBuKCkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0Lm5leHQoKTtcbiAgICAgICAgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9LFxuICAgICAgZTogZnVuY3Rpb24gZShfZTIpIHtcbiAgICAgICAgZGlkRXJyID0gdHJ1ZTtcbiAgICAgICAgZXJyID0gX2UyO1xuICAgICAgfSxcbiAgICAgIGY6IGZ1bmN0aW9uIGYoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGRpZEVycikgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBIZWFkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhlYWRlcihoZWFkZXJOYW1lKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGVhZGVyKTtcblxuICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgIHNjcm9sbENsYXNzOiAnaXNTY3JvbGwnLFxuICAgICAgICBhY3RpdmVDbGFzczogJ2lzQWN0aXZlJyxcbiAgICAgICAgb3BlbkNsYXNzOiAnaXNPcGVuJ1xuICAgICAgfTtcbiAgICAgIHRoaXMubW9kZWxTZWxlY3RvcnMgPSB7XG4gICAgICAgIG5hdkl0ZW06ICdkYXRhLW5hdi1pdGVtJyxcbiAgICAgICAgbmF2QmxvY2s6ICdkYXRhLW5hdmlnYXRpb24nLFxuICAgICAgICBidXJnZXJNZW51Q2xhc3M6ICcuanMtbWVudScsXG4gICAgICAgIG5hdmlnYXRpb25Db250YWluZXJDbGFzczogJy5qcy1uYXYnLFxuICAgICAgICBjbG9zZUJ0bkNsYXNzOiAnLmpzLWJ0bidcbiAgICAgIH07XG4gICAgICB0aGlzLmFjdGl2ZUFuY2hvcklkID0gXCJcIjtcbiAgICAgIHRoaXMuaGVhZGVyQ29udGFpbmVyID0gXCJcIjtcbiAgICAgIHRoaXMubGlua3MgPSBbXTtcbiAgICAgIHRoaXMuYmxvY2tzID0gW107XG4gICAgICB0aGlzLmFuY2hvcnMgPSBbXTtcbiAgICAgIHRoaXMuaW5pdEhlYWRlcihoZWFkZXJOYW1lKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoSGVhZGVyLCBbe1xuICAgICAga2V5OiBcImluaXRIZWFkZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0SGVhZGVyKGhlYWRlck5hbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAoIWhlYWRlck5hbWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhlYWRlckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaGVhZGVyTmFtZSk7XG4gICAgICAgIHRoaXMubGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiLmNvbmNhdCh0aGlzLm1vZGVsU2VsZWN0b3JzLm5hdkl0ZW0sIFwiXVwiKSk7XG4gICAgICAgIHRoaXMuYnVyZ2VyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5tb2RlbFNlbGVjdG9ycy5idXJnZXJNZW51Q2xhc3MpO1xuICAgICAgICB0aGlzLm5hdmlnYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMubW9kZWxTZWxlY3RvcnMubmF2aWdhdGlvbkNvbnRhaW5lckNsYXNzKTtcbiAgICAgICAgdGhpcy5jbG9zZUJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMubW9kZWxTZWxlY3RvcnMuY2xvc2VCdG5DbGFzcyk7XG5cbiAgICAgICAgaWYgKHRoaXMubGlua3MubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5saW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmNob3JMaW5rKSB7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgnL14vIC8nLCAnJykgPT0gYW5jaG9yTGluay5wYXRobmFtZS5yZXBsYWNlKCcvXi8gLycsICcnKSAmJiBsb2NhdGlvbi5ob3N0bmFtZSA9PSBhbmNob3JMaW5rLmhvc3RuYW1lICYmIGFuY2hvckxpbmsuaGFzaCkge1xuICAgICAgICAgICAgICB2YXIgYmxvY2tJZCA9IGFuY2hvckxpbmsuaGFzaDtcbiAgICAgICAgICAgICAgdmFyIGJsb2NrV2l0aElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihibG9ja0lkKTtcbiAgICAgICAgICAgICAgdmFyIGJsb2Nrc1dpdGhBdHRyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltcIi5jb25jYXQoX3RoaXMubW9kZWxTZWxlY3RvcnMubmF2QmxvY2ssIFwiID0gXCIpLmNvbmNhdChibG9ja0lkLnJlcGxhY2UoJyMnLCAnJyksIFwiXTpub3QoXCIpLmNvbmNhdChibG9ja0lkLCBcIilcIikpO1xuXG4gICAgICAgICAgICAgIGlmIChibG9ja1dpdGhJZCB8fCBibG9ja3NXaXRoQXR0cikge1xuICAgICAgICAgICAgICAgIF90aGlzLmFuY2hvcnMucHVzaChhbmNob3JMaW5rKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLmJsb2Nrcy5wdXNoKGJsb2NrV2l0aElkKTtcblxuICAgICAgICAgICAgICAgIGJsb2Nrc1dpdGhBdHRyLmZvckVhY2goZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5ibG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYWxsYmFja0Z1bmN0aW9uID0gZnVuY3Rpb24gY2FsbGJhY2tGdW5jdGlvbihlbnRyaWVzKSB7XG4gICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVudHJ5LnRhcmdldCk7XG4gICAgICAgICAgICAgIHZhciBuZXdBY3RpdmU7XG5cbiAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldC5nZXRBdHRyaWJ1dGUoX3RoaXMubW9kZWxTZWxlY3RvcnMubmF2QmxvY2spKSB7XG4gICAgICAgICAgICAgICAgbmV3QWN0aXZlID0gXCIjXCIuY29uY2F0KGVudHJ5LnRhcmdldC5nZXRBdHRyaWJ1dGUoX3RoaXMubW9kZWxTZWxlY3RvcnMubmF2QmxvY2spKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdBY3RpdmUgPSBcIiNcIi5jb25jYXQoZW50cnkudGFyZ2V0LmlkKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLmFkZEFjdGl2ZUl0ZW0obmV3QWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb2JzZXJ2ZWQgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2tGdW5jdGlvbiwge1xuICAgICAgICAgIHRocmVzaG9sZDogMC4xXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJsb2Nrcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIG9ic2VydmVkLm9ic2VydmUoZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5oZWFkZXJDb250YWluZXIpIHtcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYWRkU3R5bGVTY3JvbGwoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmFkZFNtb290aFNjcm9sbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VCdG5zLmxlbmd0aCAmJiB0aGlzLmJ1cmdlck1lbnUpIHtcbiAgICAgICAgICB0aGlzLmJ1cmdlck1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhcHAuc2Nyb2xsLmRpc2FibGUoKTtcblxuICAgICAgICAgICAgX3RoaXMub3Blbk1vZGlsZU1lbnUoKTtcblxuICAgICAgICAgICAgX3RoaXMuYWRkT3BlbkNsYXNzT25DbG9zZUJ0bigpO1xuXG4gICAgICAgICAgICBfdGhpcy5UYWJPblNob3dNb2JpbGVNZW51KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5jbG9zZUJ0bnMuZm9yRWFjaChmdW5jdGlvbiAoYnRuKSB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGFwcC5zY3JvbGwuZW5hYmxlKCk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuY2xvc2VNb2JpbGVNZW51KCk7XG5cbiAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlT3BlbkNsYXNzT25DbG9zZUJ0bigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkQWN0aXZlSXRlbVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEFjdGl2ZUl0ZW0obmV3QWN0aXZlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQW5jaG9ySWQgPSBuZXdBY3RpdmU7XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuYW5jaG9ycyksXG4gICAgICAgICAgICBfc3RlcDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoaXRlbS5oYXNoID09IHRoaXMuYWN0aXZlQW5jaG9ySWQpIHtcbiAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5hY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkU21vb3RoU2Nyb2xsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU21vb3RoU2Nyb2xsKCkge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuYW5jaG9ycyksXG4gICAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICBhbmNob3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFuY2hvci5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgbnVsbCwgYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgICAgX2xvb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZFN0eWxlU2Nyb2xsXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU3R5bGVTY3JvbGwoKSB7XG4gICAgICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gdGhpcy5oZWFkZXJDb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgY29vcmRZID0gd2luZG93LnNjcm9sbFk7XG5cbiAgICAgICAgaWYgKGNvb3JkWSA+IHRoaXMuaGVhZGVySGVpZ2h0KSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5zY3JvbGxDbGFzcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29vcmRZIDwgdGhpcy5oZWFkZXJIZWlnaHQpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlckNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLnNjcm9sbENsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJvcGVuTW9kaWxlTWVudVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Nb2RpbGVNZW51KCkge1xuICAgICAgICB0aGlzLm5hdmlnYXRpb24uY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5vcGVuQ2xhc3MpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJjbG9zZU1vYmlsZU1lbnVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZU1vYmlsZU1lbnUoKSB7XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLm9wZW5DbGFzcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImFkZE9wZW5DbGFzc09uQ2xvc2VCdG5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRPcGVuQ2xhc3NPbkNsb3NlQnRuKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB0aGlzLmNsb3NlQnRucy5mb3JFYWNoKGZ1bmN0aW9uIChidG4pIHtcbiAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZChfdGhpczIuY29uZmlnLm9wZW5DbGFzcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW1vdmVPcGVuQ2xhc3NPbkNsb3NlQnRuXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlT3BlbkNsYXNzT25DbG9zZUJ0bigpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5jbG9zZUJ0bnMuZm9yRWFjaChmdW5jdGlvbiAoYnRuKSB7XG4gICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoX3RoaXMzLmNvbmZpZy5vcGVuQ2xhc3MpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiVGFiT25TaG93TW9iaWxlTWVudVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIFRhYk9uU2hvd01vYmlsZU1lbnUoKSB7XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEhlYWRlcjtcbiAgfSgpO1xuXG4gIHZhciBUYWIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRhYihUYWJOYW1lKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFiKTtcblxuICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgIGFjdGl2ZUNsYXNzOiAnaXNBY3RpdmUnXG4gICAgICB9O1xuICAgICAgdGhpcy5tb2RlbFNlbGVjdG9ycyA9IHtcbiAgICAgICAgY2xhc3NUYWdJdGVtOiAnZGF0YS10YWcnLFxuICAgICAgICBjbGFzc1RhYkl0ZW06ICdkYXRhLXRhcmdldCdcbiAgICAgIH07XG4gICAgICB0aGlzLmRlZmF1bHRPcGVuSXRlbU51bWJlciA9IDA7XG4gICAgICB0aGlzLmluaXRIZWFkZXIoVGFiTmFtZSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFRhYiwgW3tcbiAgICAgIGtleTogXCJpbml0SGVhZGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdEhlYWRlcihUYWJOYW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFUYWJOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YWdDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFRhYk5hbWUpO1xuXG4gICAgICAgIGlmICh0aGlzLnRhZ0NvbnRhaW5lcikge1xuICAgICAgICAgIHRoaXMudGFnSXRlbXMgPSB0aGlzLnRhZ0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiLmNvbmNhdCh0aGlzLm1vZGVsU2VsZWN0b3JzLmNsYXNzVGFnSXRlbSwgXCJdXCIpKTtcbiAgICAgICAgICB0aGlzLmNvbnRlbnRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIuY29uY2F0KHRoaXMubW9kZWxTZWxlY3RvcnMuY2xhc3NUYWJJdGVtLCBcIl1cIikpO1xuICAgICAgICAgIHRoaXMuZGVmYXVsdE9wZW5JdGVtKHRoaXMuZGVmYXVsdE9wZW5JdGVtTnVtYmVyKTtcbiAgICAgICAgICB0aGlzLnRhZ0l0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHRhZ0l0ZW0pIHtcbiAgICAgICAgICAgIHRhZ0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVBY3RpdmVDbGFzcygpO1xuXG4gICAgICAgICAgICAgIF90aGlzLmNvbnRlbnRJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ0l0ZW0uZ2V0QXR0cmlidXRlKF90aGlzLm1vZGVsU2VsZWN0b3JzLmNsYXNzVGFnSXRlbSkgPT0gaXRlbS5pZCkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQWN0aXZlQ2xhc3MoaXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgIF90aGlzLmFkZEFjdGl2ZUNsYXNzKHRhZ0l0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkZWZhdWx0T3Blbkl0ZW1cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0T3Blbkl0ZW0obnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29udGVudEl0ZW1zW251bWJlcl0uY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5hY3RpdmVDbGFzcyk7XG4gICAgICAgIHRoaXMudGFnSXRlbXNbbnVtYmVyXS5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgdGhpcy5nZXRJZCh0aGlzLmNvbnRlbnRJdGVtc1tudW1iZXJdKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGVmYXVsdENsb3NlSXRlbVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRDbG9zZUl0ZW0obnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29udGVudEl0ZW1zW251bWJlcl0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5hY3RpdmVDbGFzcyk7XG4gICAgICAgIHRoaXMudGFnSXRlbXNbbnVtYmVyXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLmFjdGl2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkQWN0aXZlQ2xhc3NcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRBY3RpdmVDbGFzcyhpdGVtKSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5hY3RpdmVDbGFzcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInJlbW92ZUFjdGl2ZUNsYXNzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWN0aXZlQ2xhc3MoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMudGFnSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShfdGhpczIuY29uZmlnLmFjdGl2ZUNsYXNzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29udGVudEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoX3RoaXMyLmNvbmZpZy5hY3RpdmVDbGFzcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRJZFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElkKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5jb250ZW50Q3VycmVudElkID0gaXRlbS5pZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBUYWI7XG4gIH0oKTtcblxuICB2YXIgQWNjb3JkZW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBY2NvcmRlb24oQWNjb3JkZW9uTmFtZSkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY29yZGVvbik7XG5cbiAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICBvcGVuQ2xhc3M6ICdpc09wZW4nXG4gICAgICB9O1xuICAgICAgdGhpcy5tb2RlbFNlbGVjdG9ycyA9IHt9O1xuICAgICAgdGhpcy5BY2NvcmRlb25Jbml0KEFjY29yZGVvbk5hbWUpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhBY2NvcmRlb24sIFt7XG4gICAgICBrZXk6IFwiQWNjb3JkZW9uSW5pdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIEFjY29yZGVvbkluaXQoQWNjb3JkZW9uTmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuYWNjb3JkZW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihBY2NvcmRlb25OYW1lKTtcbiAgICAgICAgdGhpcy5hY2NvcmRlb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBfdGhpcy50YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICBpZiAoX3RoaXMudGFyZ2V0LnRhZ05hbWUgPT0gJ0JVVFRPTicpIHtcbiAgICAgICAgICAgIF90aGlzLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKF90aGlzLmNvbmZpZy5vcGVuQ2xhc3MpO1xuXG4gICAgICAgICAgICBfdGhpcy50YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoX3RoaXMuY29uZmlnLm9wZW5DbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQWNjb3JkZW9uO1xuICB9KCk7XG5cbiAgd2luZG93LmFwcCA9IHtcbiAgICBoZWFkZXI6IG51bGwsXG4gICAgc2Nyb2xsOiB7XG4gICAgICBkaXNhYmxlOiBzY3JvbGxMb2NrJDEuZGlzYWJsZVBhZ2VTY3JvbGwsXG4gICAgICBlbmFibGU6IHNjcm9sbExvY2skMS5lbmFibGVQYWdlU2Nyb2xsXG4gICAgfSxcbiAgICBpbml0TW9kdWxlOiBmdW5jdGlvbiBpbml0TW9kdWxlKE1vZHVsZSwgc2VsZWN0b3IpIHtcbiAgICAgIGlmICghIXNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBibG9ja3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgICAgIGJsb2Nrcy5mb3JFYWNoKGZ1bmN0aW9uIChibG9jaykge1xuICAgICAgICAgIG5ldyBNb2R1bGUoYmxvY2spO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ldyBNb2R1bGUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7fVxuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBhcHAuaGVhZGVyID0gbmV3IEhlYWRlcihcIi5qcy1oZWFkZXJcIik7XG4gICAgdmFyIHRhYnMgPSBuZXcgVGFiKFwiLmpzLXRhZ3NcIik7XG4gICAgdmFyIGFjY29yZGVvbiA9IG5ldyBBY2NvcmRlb24oXCIuanMtYWNjb3JkZW9uXCIpO1xuICB9KTtcbiAgc3ZnNGV2ZXJ5Ym9keSgpO1xufSk7Il19
